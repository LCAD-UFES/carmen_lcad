[*]

# Parameters for all robots

#example parameters
skeleton_module_sensor_getkey on

#####################################
##### Localization and Mapping ######
#####################################


###############################
# Localize Ackerman parameters

###################################################################
## Parametros para localize_ackerman_correction_type 0
localize_ackerman_correction_type		0 # correcao usando soma das likelihood do map
localize_num_particles					300
localize_ackerman_jump_size 			1
localize_use_log_odds					on
localize_lmap_std						0.40
localize_tracking_beam_minlikelihood	0.04
localize_tracking_beam_maxlikelihood	0.99
localize_global_lmap_std				5.60
localize_global_beam_minlikelihood		0.20
localize_global_beam_maxlikelihood		0.98
localize_min_wall_prob					0.25
localize_occupied_prob					0.5
localize_outlier_fraction				0.75
localize_phi_bias_std					0.0005
localize_small_remission_likelihood 	0.005
localize_min_remission_variance 		0.00025
localize_yaw_uncertainty_due_to_grid_resolution	0.107 # em graus
localize_xy_uncertainty_due_to_grid_resolution	0.01  # em metros
localize_particles_normalize_factor	1.0

###################################################################
## Parametros para localize_ackerman_correction_type 7
#localize_ackerman_correction_type		7 # correcao usando a mahalanobis distance da remission do velodyne para o mapa de remission
#localize_num_particles					300
#localize_ackerman_jump_size 			20
#localize_use_log_odds					off
#localize_lmap_std						0.40
#localize_tracking_beam_minlikelihood	0.04
#localize_tracking_beam_maxlikelihood	0.99
#localize_global_lmap_std				5.60
#localize_global_beam_minlikelihood		0.20
#localize_global_beam_maxlikelihood		0.98
#localize_min_wall_prob					0.1
#localize_occupied_prob					0.5
#localize_outlier_fraction				0.9	# percentual das particulas em que um dado laser tenha dado ruim para que este laser seja descartado no computo do peso das particulas
#localize_phi_bias_std					0.0005
#localize_small_remission_likelihood		0.005
#localize_min_remission_variance			0.00025
#localize_yaw_uncertainty_due_to_grid_resolution	0.157 # em graus
#localize_xy_uncertainty_due_to_grid_resolution	0.015  # em metros
#localize_particles_normalize_factor	0.005

###################################################################
#localize_ackerman_correction_type	1 # correcao usando coseno entre os mapas probabilisticos
#localize_ackerman_correction_type	2 # correcao usando coseno entre o mapa de likelihood
#localize_ackerman_correction_type	3 # correcao usando a distancia de pearson
#localize_ackerman_correction_type	4 # correcao usando coseno entre os mapas de remission
#localize_ackerman_correction_type	5 # correcao usando coseno entre os mapas de remission mais o coseno do mapa de grid
#localize_ackerman_correction_type	6 # correcao usando


localize_laser_max_range		50.0  # TODO: ler do laser. E no caso do mapper produzindo o laser?

localize_ackerman_safe_range_above_sensors 	1.1
localize_ackerman_number_of_sensors 		10
localize_ackerman_velodyne 					on 

localize_ackerman_unsafe_height_above_ground	10.5

localize_ackerman_velodyne_laser_max_range		50.0
localize_ackerman_velodyne_range_max			50.0
localize_ackerman_velodyne_locc 				3.7
localize_ackerman_velodyne_lfree				-0.6
localize_ackerman_velodyne_l0					0.0
localize_ackerman_velodyne_unexpeted_delta_range_sigma 	0.45
localize_ackerman_velodyne_range_max_factor		1.0

localize_ackerman_laser_ldmrs 				off
localize_ackerman_laser_ldmrs_locc 				5.0
localize_ackerman_laser_ldmrs_lfree 			-5.0
localize_ackerman_laser_ldmrs_l0 				0.0
localize_ackerman_laser_ldmrs_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne2 				off
localize_ackerman_stereo_velodyne2_locc 			5.0
localize_ackerman_stereo_velodyne2_lfree 			-5.0
localize_ackerman_stereo_velodyne2_l0 				0.0
localize_ackerman_stereo_velodyne2_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne3 				off
localize_ackerman_stereo_velodyne3_locc				2.0
localize_ackerman_stereo_velodyne3_lfree			-10.0
localize_ackerman_stereo_velodyne3_l0				-1.3
localize_ackerman_stereo_velodyne3_unexpeted_delta_range_sigma 	0.2

localize_ackerman_stereo_velodyne4 				off
localize_ackerman_stereo_velodyne4_locc				5.0
localize_ackerman_stereo_velodyne4_lfree			-5.0
localize_ackerman_stereo_velodyne4_l0				0.0
localize_ackerman_stereo_velodyne4_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne5				off
localize_ackerman_stereo_velodyne5_locc				5.0
localize_ackerman_stereo_velodyne5_lfree			-5.0
localize_ackerman_stereo_velodyne5_l0 				0.0
localize_ackerman_stereo_velodyne5_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne6				off
localize_ackerman_stereo_velodyne6_locc				5.0
localize_ackerman_stereo_velodyne6_lfree			-5.0
localize_ackerman_stereo_velodyne6_l0				0.0
localize_ackerman_stereo_velodyne6_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne7				off
localize_ackerman_stereo_velodyne7_locc				5.0
localize_ackerman_stereo_velodyne7_lfree			-5.0
localize_ackerman_stereo_velodyne7_l0				0.0
localize_ackerman_stereo_velodyne7_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne8				off
localize_ackerman_stereo_velodyne8_locc				5.0
localize_ackerman_stereo_velodyne8_lfree			-5.0
localize_ackerman_stereo_velodyne8_l0				0.0
localize_ackerman_stereo_velodyne8_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne9				off
localize_ackerman_stereo_velodyne9_locc				5.0
localize_ackerman_stereo_velodyne9_lfree			-5.0
localize_ackerman_stereo_velodyne9_l0				0.0
localize_ackerman_stereo_velodyne9_unexpeted_delta_range_sigma 	6.0

localize_ackerman_swarm_max_particle_velocity			2.0
localize_ackerman_swarm_max_particle_angular_velocity	0.5
localize_ackerman_swarm_num_iteration				5

localize_ackerman_max_particle_displacement			10.0
localize_ackerman_max_particle_angular_displacement	0.5

localize_ackerman_de_crossover_rate			0.9
localize_ackerman_de_mutation_rate			0.2
localize_ackerman_de_num_iteration			2

localize_ackerman_velocity_noise_velocity	0.15  	# standard deviation in meters/s
localize_ackerman_velocity_noise_phi		0.0    	# standard deviation in radians
localize_ackerman_phi_noise_phi				0.35	# standard deviation in radians
localize_ackerman_phi_noise_velocity		0.0    	# standard deviation in radians

#localize_ackerman_prediction_type 0	# differential prediction (v and w)
localize_ackerman_prediction_type 1	# v and phi prediction
#localize_ackerman_prediction_type 2	# acc and w prediction (IMU only) -> desligue robot_publish_odometry

localize_use_rear_laser			off

localize_update_distance		0.0
localize_integrate_angle_deg	3.0
localize_do_scanmatching		off
localize_constrain_to_map		off
localize_global_evidence_weight		0.01
localize_global_distance_threshold	2.0
localize_global_test_samples		100000
localize_use_sensor				on

## new (learned) motion model
localize_mean_c_d 			-0.0123
localize_mean_c_t 			-0.1065
localize_std_dev_c_d 		0.1380
localize_std_dev_c_t 		0.2347

localize_mean_d_d 			1.0055
localize_mean_d_t 			0.0025
localize_std_dev_d_d 		0.1925
localize_std_dev_d_t 		0.3982

localize_mean_t_d 			-0.0035
localize_mean_t_t 			0.9638
localize_std_dev_t_d 		0.0110
localize_std_dev_t_t 		0.3300


################################
#SLAM ICP parameters

slam_icp_initialization_time 0.0	
slam_icp_update_distance 0.1
slam_icp_update_angle 5.0
slam_icp_highest_point 3.0


###############################
# Localize Monte Carlo parameters

localize_traf_num_particles 500

# see MotionModelTypes enumeration
# OdometryMotionModel = 1
# VelocityMotionModel = 2
# AckermanMotionModel = 3
localize_traf_motion_model 3

localize_traf_odom_a1 0.00002	
localize_traf_odom_a2 0.00001	
localize_traf_odom_a3 0.00002	
localize_traf_odom_a4 0.00001	
                                        
localize_traf_ack_a1 0.02
localize_traf_ack_a2 0.001
localize_traf_ack_a3 0.001
localize_traf_ack_a4 0.001
localize_traf_global_distance_threshold	2.0

localize_traf_vel_a1 0.01
localize_traf_vel_a2 0.5
localize_traf_vel_a3 0.01
localize_traf_vel_a4 0.5
localize_traf_vel_a5 0.01
localize_traf_vel_a6 0.5

localize_traf_laser_sampling_step 	18
localize_traf_laser_num_beams 		361
localize_traf_laser_fov_range 		180.0
localize_traf_laser_start_angle		-90.0
localize_traf_laser_max_range 		20.0
localize_traf_laser_lambda_short 	1.0
localize_traf_laser_sigma_zhit 		0.3
localize_traf_laser_zhit 		0.3
localize_traf_laser_zmax 		0.5
localize_traf_laser_zrand 		0.1
localize_traf_laser_zshort 		0.1


####################################
# Fused Odometry parameters

fused_odometry_num_particles 	500
fused_odometry_frequency		40

fused_odometry_kalman_filter	off

# Theses numbers represent how the first variable varies in relation to the square of the second
# when noise is added in the filtering algorithm
fused_odometry_velocity_noise_velocity	0.1   # standard deviation in meters/s
fused_odometry_velocity_noise_phi		0.0   # standard deviation in degrees
fused_odometry_phi_noise_phi			0.1   # standard deviation in degrees
fused_odometry_phi_noise_velocity		0.02   # standard deviation in degrees
fused_odometry_pitch_v_noise_pitch_v	0.0   # standard deviation in degrees
fused_odometry_pitch_v_noise_velocity	0.0   # standard deviation in degrees

fused_odometry_minimum_speed_for_correction	0.1  # m/s
fused_odometry_maximum_phi				30.0 # in degrees

fused_odometry_xsens_yaw_bias_noise		20.0  # 5.0 # standard deviation in degrees
fused_odometry_xsens_maximum_yaw_bias	0.0 # in degrees

fused_odometry_xsens_roll_std_error		0.0  # 5.0  # in degrees
fused_odometry_xsens_pitch_std_error	0.0  # 2.0  # in degrees
fused_odometry_xsens_yaw_std_error		20.0 # in degrees

fused_odometry_xsens_gps_x_std_error		3.0  # meters
fused_odometry_xsens_gps_y_std_error		3.0  # meters
fused_odometry_xsens_gps_z_std_error		3.0  # meters

fused_odometry_acc_std_error		0.0 # 0.008
fused_odometry_acc_bias_std_error	0.0 # 0.08

fused_odometry_use_viso_odometry	0
fused_odometry_use_car_odometry		1

fused_odometry_publish_particles	off


###############################
# Map Server

map_server_publish_grid_mapping 	on
map_server_initial_waiting_time		3.0
map_server_map_grid_res			0.2 #0.29296875
map_server_map_width			210.0
map_server_map_height			210.0
map_server_time_interval_for_map_change	0.3

#map_server param para escolher publicar google_map no lugar de offline_map

map_server_publish_google_map	off


###############################
# Mapper parameters 

mapper_number_of_sensors 		10
mapper_safe_range_above_sensors 	1.1
mapper_max_velocity_lambda_short_state 	3.0
mapper_height_max_level 1
mapper_safe_height_from_ground_level1 	1.0

mapper_number_of_threads		1

mapper_unsafe_height_above_ground	10.5

# Remover isto deste ini e dos modulos: tekm que usar os dados especificos de cada sensor
mapper_map_locc 		5.0
mapper_map_lfree 		-1.0
mapper_map_l0 			0.0
mapper_map_log_odds_max 	150.0
mapper_map_log_odds_min 	50.0
mapper_map_log_odds_bias 	100.0
mapper_map_range_factor 	1.0

mapper_map_grid_res 		0.2 #0.29296875
mapper_map_width 		210.0
mapper_map_height 		210.0

mapper_map_global_grid_res 	4.0
mapper_map_global_width 	1800
mapper_map_global_height 	1800

mapper_moving_objects_raw_map 	on
mapper_update_cells_below_car 	on

###################################################################
## Use the parameters below for usual localization and navigation
mapper_update_and_merge_with_snapshot_map		off
mapper_global_map 							off
mapper_merge_with_offline_map 				off
mapper_decay_to_offline_map					on
mapper_update_and_merge_with_mapper_saved_maps	off
mapper_build_snapshot_map					off
mapper_velodyne_range_max		 			70.0
mapper_velodyne_range_max_factor 			1.0
mapper_create_map_sum_and_count				off
mapper_use_remission						off
mapper_laser_ldmrs 							on

## Use the parameters below for building maps
#mapper_update_and_merge_with_snapshot_map	off
#mapper_global_map 							off
#mapper_merge_with_offline_map 				off
#mapper_decay_to_offline_map				off
#mapper_update_and_merge_with_mapper_saved_maps	on
#mapper_build_snapshot_map					off
#mapper_velodyne_range_max		 			70.0
#mapper_velodyne_range_max_factor 			4.0
#mapper_create_map_sum_and_count			off
#mapper_use_remission						on
#mapper_laser_ldmrs 						off
###################################################################

mapper_stereo_mapping 			off
mapper_stereo_mapping_locc 		-1.0
mapper_stereo_mapping_lfree 	-5.0

mapper_velodyne 				on
mapper_velodyne_locc 			5.7
mapper_velodyne_lfree 			-0.6
mapper_velodyne_l0 				0.0
mapper_velodyne_unexpeted_delta_range_sigma 			0.45

## Holds the stereo_velodyne1 position
mapper_laser_ldmrs_locc 		7.3
mapper_laser_ldmrs_lfree 		-0.6
mapper_laser_ldmrs_l0 			0.0
mapper_laser_ldmrs_unexpeted_delta_range_sigma 			0.45

mapper_stereo_velodyne2 		off
mapper_stereo_velodyne2_locc 	5.0
mapper_stereo_velodyne2_lfree 	-5.0
mapper_stereo_velodyne2_l0 		0.0
mapper_stereo_velodyne2_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne3 		off
mapper_stereo_velodyne3_locc	2.0
mapper_stereo_velodyne3_lfree	-10.0
mapper_stereo_velodyne3_l0		-1.3
mapper_stereo_velodyne3_unexpeted_delta_range_sigma 	0.2

mapper_stereo_velodyne4 		off
mapper_stereo_velodyne4_locc	5.0
mapper_stereo_velodyne4_lfree	-5.0
mapper_stereo_velodyne4_l0		0.0
mapper_stereo_velodyne4_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne5			off
mapper_stereo_velodyne5_locc	5.0
mapper_stereo_velodyne5_lfree	-5.0
mapper_stereo_velodyne5_l0 		0.0
mapper_stereo_velodyne5_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne6			off
mapper_stereo_velodyne6_locc	5.0
mapper_stereo_velodyne6_lfree	-5.0
mapper_stereo_velodyne6_l0		0.0
mapper_stereo_velodyne6_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne7			off
mapper_stereo_velodyne7_locc	5.0
mapper_stereo_velodyne7_lfree	-5.0
mapper_stereo_velodyne7_l0		0.0
mapper_stereo_velodyne7_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne8			off
mapper_stereo_velodyne8_locc	5.0
mapper_stereo_velodyne8_lfree	-5.0
mapper_stereo_velodyne8_l0		0.0
mapper_stereo_velodyne8_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne9			off
mapper_stereo_velodyne9_locc	5.0
mapper_stereo_velodyne9_lfree	-5.0
mapper_stereo_velodyne9_l0		0.0
mapper_stereo_velodyne9_unexpeted_delta_range_sigma 	6.0

######################################
# Stereo Mapping parameters

stereo_map_width			64.0 # 50.0
stereo_map_height			48.0 # 30.0
stereo_map_grid_res			0.2
stereo_map_locc 			5
stereo_map_lfree 			-5
stereo_map_l0 				0
stereo_map_log_odds_max 		224
stereo_map_log_odds_min 		32
stereo_map_log_odds_bias 		8
stereo_map_frontal_camera		8
stereo_map_laser_num_beams		361


#######################
##### Navigation ######
#######################

###############################
# Navigator parameters

navigator_ackerman_use_fused_odometry_pose on
navigator_goal_size			1.0
navigator_goal_theta_tolerance		0.3

navigator_map_update_radius             3.0
navigator_map_update_obstacles          off
navigator_map_update_freespace 	  	off
navigator_map_update_num_laser_beams    361
navigator_replan_frequency		5
navigator_smooth_path			on
navigator_dont_integrate_odometry	off
navigator_plan_to_nearest_free_point    on
navigator_waypoint_tolerance            1.0

navigator_map 				from_mapping #from_param_daemon #from_param_daemon #from_mapping
navigator_superimposed_map		from_map_server


###############################
# Navigator A* parameters

navigator_astar_path_interval			0.5
navigator_astar_state_map_resolution		1.0
navigator_astar_state_map_theta_resolution	360
navigator_astar_precomputed_cost_size		200
navigator_astar_precomputed_cost_file_name	precomp_ackerman_200_phi27_r0.2_i0.01.data #precomp_ackerman_100_r0.2_i0.01_center.data
navigator_astar_use_rs				on	
navigator_astar_smooth_path			off
navigator_astar_onroad_max_plan_time		0.5
navigator_astar_robot_fat_space			0.6

motion_planner_phi_gain				1.5


###############################
# RRT Planner
 
rrt_distance_interval			3.5
rrt_plan_time					0.03
rrt_timeout						0.05
rrt_cheat						off
rrt_show_debug_info				off
rrt_publish_lane_map			off
rrt_publish_tree				on
rrt_use_obstacle_avoider		on
rrt_use_mpc						off	      # First in precedence, case off standard use PID
rrt_use_rlpid					off	      # Second in precedence, case off standard use PID
rrt_use_pure_pursuit_tracking	off
rrt_reuse_last_path				on
rrt_obstacle_cost_distance		0.8     # distancia em metros de um obstaculo em que o custo vai a zero
rrt_obstacle_probability_threshold 0.5
rrt_log_mode					off


###############################
# Model Predictive Planner parameters

# Ida a Guarapari = 1.233. Volta da Ufes = 1.6
model_predictive_planner_obstacles_safe_distance		1.6 # 1.233 # 2.065 largura da IARA com retrovisores, 1.806 sem retrovisores. Usando a largura + 0.4m para cada lado
model_predictive_planner_obstacles_safe_length_distance  5.63 # Comprimento da IARA (4.43 m) + 0.6m para cada lado
model_predictive_planner_max_square_distance_to_lane	2.0

###############################
# Obstacle Avoider parameters

obstacle_avoider_obstacles_safe_distance			1.0 # Usando a largura + 0.2m para cada lado
 

###############################
# Behavior Selector parameters

# Ida a Guarapari = 1.233. Volta da Ufes = 1.6
behavior_selector_central_lane_obstacles_safe_distance			1.6 # 1.233 # 1.6 # deve ser igual ou maior que model_predictive_planner_obstacles_safe_distance
behavior_selector_main_central_lane_obstacles_safe_distance		1.1
behavior_selector_lateral_lane_obstacles_safe_distance			1.1
behavior_selector_lateral_lane_displacement						2.2 # deve ser a soma dos dois anteriores

behavior_selector_distance_between_waypoints		13.0
behavior_selector_change_goal_distance				13.0

####
## Possible Planners:
## 0	gradient planner
## 1	a star planner
## 2	rrt planner

behavior_selector_reverse_driving               off

behavior_selector_following_lane_planner		2
behavior_selector_parking_planner				1
#Goal Source - if on will use Lane and Goal from path_planner, if off use RDDF
behavior_selector_goal_source_path_planner		off

behavior_selector_distance_to_remove_annotation_goal	4.0

behavior_selector_rddf_num_poses_ahead_limit			150 # mapa_lenth_in_meters/min_distance_between_waypoints => 75/0.5
behavior_selector_rddf_num_poses_ahead_min				50
behavior_selector_rddf_num_poses_by_car_velocity		off

behavior_selector_use_truepos							off


######################################
# Rddf parameters

rddf_num_poses_ahead				100
rddf_min_distance_between_waypoints 0.5
rddf_lateral_offset_noise			0.1
rddf_lateral_offset_error			0.1
rddf_lateral_offset_particles		1000
rddf_loop							on
rddf_source_tracker					off
rddf_default_search_radius			1.00
rddf_dynamic_plot_state				0


######################################
# Moving Objects parameters

moving_objects_safe_range_above_sensors		3.0


##################
##### Robot ######
##################


###############################
# Robot parameters

robot_length               		4.425	# 4.437	# Parametros para o Ford Escape
robot_width                		1.806 # 1.775   # 1.6 	# 2.065	Ford Escape com retrovisores. 1.806 sem retorvisores
robot_vertical_displacement_from_center	-1.375	# Parametros para o Ford Escape
robot_wheel_radius 0.28

robot_frontlaser_use            	on
robot_frontlaser_id             	1
robot_frontlaser_side_offset    	0.0
robot_frontlaser_angular_offset 	0.0	# igual a velodyne_yaw (abaixo) para rodar o laser simulado a partir do velodyne de acordo com o velodyne
robot_frontlaser_offset    		0.0

robot_rearlaser_use             	off
robot_rearlaser_id              	2
robot_rearlaser_side_offset     	0.0
robot_rearlaser_angular_offset  	3.1415923
robot_rearlaser_offset     		0.0

robot_min_approach_dist    	0.20
robot_min_side_dist        	0.20
robot_acceleration         	2.00
robot_deceleration	   	0.30
robot_reaction_time        	0.1
robot_max_t_vel            	0.4
robot_max_r_vel          	0.785398163
#robot_max_v           		30.0
robot_theta_gain           	1.0
robot_theta_d_gain         	0.3
robot_displacement_gain    	0.75
robot_use_laser			on
robot_use_sonar            	off
robot_use_bumper           	off
robot_allow_rear_motion		on
robot_sensor_timeout        	3.0
robot_command_timeout		3.0
robot_rectangular		on	# right now used only by robot_gui

robot_collision_avoidance	on
robot_collision_avoidance_frequency	40.0
robot_interpolate_odometry  		off
robot_turn_before_driving_if_heading_bigger_than_deg	90.0
robot_max_centripetal_acceleration  2.0 # 1.5 #2.5    #right now used only by model_predictive_montion_planner

robot_polygon_file ford_escape/ford_escape_poly.txt
robot_collision_file ford_escape/ford_escape_col.txt
###############################
# Robot Ackermann parameters

# 0.35 radians = 20.0535228 degrees
# 0.523598776 radians = 30 degrees

robot_max_steering_angle 							0.5537	# 0.5337 # 0.5237 (curvature 0.22, 30.01 graus) # @@@ Alberto: aumentei ~1.9%
robot_max_velocity									8.33 # 2.9 # 2.77 # 8.33 # 6.94 #16.67 	#2.77 #  2.77 # 8.33 # 5.5 # 8.33 # 5.5 # 8.33 # 16.67 # 11.11 # 8.33 # 16.67 # 15.28 # 8.33 # 11.11 # 8.33 # 13.89 # 15.28 # 11.11 # 6.94 #8.33 #5.33 #11.11 # 13.9 #15.28  #5.5 # 6.0 # 8.33 # 10.28 # 16.66 #  # 11.11 # meters/second

robot_distance_between_front_and_rear_axles    		2.625 	# Ford Escape Torc = 2.6187, Mariela = 2.511  # @@@ este valor esta trocado com o abaixo em slam_mc. Tem que ver a teoria para saber como incorporar os dois ao codigo
robot_distance_between_rear_wheels             		1.535 	# Ford Escape = 1.52
robot_distance_between_rear_car_and_rear_wheels    	0.96 	# Ford Escape = 0.78
robot_distance_between_front_car_and_front_wheels	0.85 	# Ford Escape = 0.91
robot_distance_between_rearview						2.065	# Parametros para o Ford Escape
robot_turning_radius								5.6 	# Parametros para o Ford Escape: maximum_curvature = (1.0 / turning_radius)

robot_maximum_steering_command_rate		0.335   # 0.335 # 0.235	# 1/meters/second
# robot_maximum_capable_curvature			0.22	# 1/meters #0.1887
robot_understeer_coeficient			0.0015  # See Torc, "ByWire XGV User Manual", page 42
robot_understeer_coeficient2		0.0015  # See Torc, "ByWire XGV User Manual", page 42. 
robot_maximum_speed_forward			46.0	# meters/second
robot_maximum_speed_reverse			20.0	# meters/second
robot_maximum_acceleration_forward		0.6	# meters/second^2
robot_maximum_acceleration_reverse		1.2	# meters/second^2
robot_maximum_deceleration_forward		3.3	# 2.7	# meters/second^2
robot_maximum_deceleration_reverse		2.7	# meters/second^2
robot_desired_steering_command_rate		0.255   # 0.175	# 0.335 # 0.235	# 1/meters/second
robot_desired_acceleration			1.0	# meters/second^2
robot_desired_decelaration_forward		2.7
robot_desired_decelaration_reverse		2.7

robot_publish_odometry				on

# Ajuste da odometria do carro

#---Params para ida a guarapari---- 
#robot_v_multiplier 				1.000611 # 0.973049 
#robot_phi_multiplier				1.070004 # 0.774100
#robot_phi_bias					-0.003970 # -0.002003

robot_v_multiplier				1.015018 # 1.021018 # 1.030410 # 1.030662 # 1.025076 # 1.023379  # 0.984300 
robot_phi_multiplier			1.096677 # 1.109900 # 1.098677 # 1.096974 # 1.090757 #	1.097793  # 1.101828
robot_phi_bias					0.0 # -0.003390 # -0.003188 # -0.003188 # -0.003386 # -0.003145 # -0.002788


# Bom para a volta da UFES				   ZN Ranik
robot_PID_steering_kp				689.4  # 1093.3  # 1250.4 # 689.4  # 1480.9  # 689.4  # 950.0  # 950.0   # 1250.0 # 1250.0 # 1151.0  #1251.0  #1668.0  #1380.0 #1000.0
robot_PID_steering_ki				2008.7 # 942.3  # 6008.7 # 2008.7 # 6985.4  # 2008.7 # 400.0  # 2000.0  # 600.0  # 300.0  # 2.2667  #2.5667  #4.2782  #4.9688  #0.0 	#1000.0
robot_PID_steering_kd				30.8   # 317.1   # 35.8   # 30.8   # 81.45   # 35.8   # 0.0    # 75.0    # 25.0   # 0.0    # 0.05844 #0.05031 #0.0 	#0.0

# Razoavel para estacionamento
#robot_PID_steering_kp					1000.0
#robot_PID_steering_ki					2000.0
#robot_PID_steering_kd					90.0

robot_PID_minimum_delta_velocity			0.2

robot_PID_velocity_forward_accelerating_Kp		25.0 # 10.0
robot_PID_velocity_forward_accelerating_Ki		6.0 # 3.0 # 0.35    #10.0
robot_PID_velocity_forward_accelerating_Kd		-0.2 # -0.025 #-0.5

robot_PID_velocity_forward_deccelerating_Kp		30.0 # 20.0
robot_PID_velocity_forward_deccelerating_Ki		2.0 # 9.0 # 9.0 # 0.2   #10.0
robot_PID_velocity_forward_deccelerating_Kd		-0.2 #-0.025 #-1.0

robot_PID_velocity_backward_accelerating_Kp		10.0
robot_PID_velocity_backward_accelerating_Ki		3.0 # 0.35    #10.0
robot_PID_velocity_backward_accelerating_Kd		0.0 #-0.025 #-0.5

robot_PID_velocity_backward_deccelerating_Kp		20.0
robot_PID_velocity_backward_deccelerating_Ki		9.0 # 0.2   #10.0
robot_PID_velocity_backward_deccelerating_Kd		0.0 #-0.025 #-1.0

robot_PID_velocity_brake_gap				17.0


################################
#    road finding params
################################

road_finding_number_of_gaussians	4

################################
#    v-disparity params
################################

v_disparity_slope_threshould	95.0

############################### 
# car parameters ??????

car_axis_distance 2.625		# TODO: ler isso do robot
car_wheel_diameter 0.56 	# @@@ Alberto: checar se nao estao usando isso como raio ao inves de diametro

# car position and orientation in relation to world
car_x			0.0
car_y			0.0
car_z			0.28	# TODO: ler isso do robot
car_roll		0.0
car_pitch		0.0
car_yaw			0.0

######################################
# visual odometry parameters
######################################

# To replace the robot odometry (IARAs odometry) with visual_odometry turn off <robot_publish_odometry> parameter below

visual_odometry_is_global_pos		off

visual_odometry_publish				on		# Habilita a publicacao de carmen_robot_ackerman_velocity_message

visual_odometry_v_multiplier           0.99 # 1.007528 # 1.007528 # 0.938107
visual_odometry_phi_multiplier         1.18 # 1.114414 # 1.057797
visual_odometry_phi_bias               0.0  #-0.001268 # -0.000249


##############################
# grid mapping map parameters

grid_mapping_map_range_factor 	1.0
grid_mapping_map_grid_res 	0.2
grid_mapping_map_width 		210
grid_mapping_map_height 	210
grid_mapping_laser_sampling_step 	36
grid_mapping_laser_num_beams 	361
grid_mapping_laser_fov_range 	180.0
grid_mapping_laser_max_range 	31.0
grid_mapping_laser_lambda_short 	1.0
grid_mapping_laser_sigma_zhit 	0.1
grid_mapping_laser_zhit 		0.3
grid_mapping_laser_zmax 		0.5
grid_mapping_laser_zrand 		0.1
grid_mapping_laser_zshort 	0.1

grid_mapping_laser_locc 	5.0
grid_mapping_laser_lfree	-1.0
grid_mapping_laser_l0		0

##############################
# ultrasonic sensor parameters

grid_mapping_ultrasonic_sensor_sampling_step	0.001745
grid_mapping_ultrasonic_sensor_num_beams	36
grid_mapping_ultrasonic_sensor_fov_range	18.0
grid_mapping_ultrasonic_sensor_max_range	3.0
grid_mapping_ultrasonic_sensor_lambda_short	0.1
grid_mapping_ultrasonic_sensor_sigma_zhit	0.1
grid_mapping_ultrasonic_sensor_zhit	0.1
grid_mapping_ultrasonic_sensor_zmax	0.1
grid_mapping_ultrasonic_sensor_zrand	0.1
grid_mapping_ultrasonic_sensor_zshort	0.1

grid_mapping_map_locc 		-150.0
grid_mapping_map_lfree 		5.0
grid_mapping_map_l0 		0
grid_mapping_map_log_odds_max 	50
grid_mapping_map_log_odds_min 	-50
grid_mapping_map_log_odds_bias 	0

# front
ultrasonic_sensor_r1_x	3.455
ultrasonic_sensor_r1_y	-0.435
ultrasonic_sensor_r1_z	0.193
ultrasonic_sensor_r1_yaw	0.0
ultrasonic_sensor_r1_pitch	0.0
ultrasonic_sensor_r1_roll	0.0

# side (front)
ultrasonic_sensor_r2_x	2.145
ultrasonic_sensor_r2_y	-0.89
ultrasonic_sensor_r2_z	0.004
ultrasonic_sensor_r2_yaw	-1.57079633
ultrasonic_sensor_r2_pitch	0.0
ultrasonic_sensor_r2_roll	0.0

# side (back)
ultrasonic_sensor_l2_x	0.477
ultrasonic_sensor_l2_y	-0.89
ultrasonic_sensor_l2_z	0.004
ultrasonic_sensor_l2_yaw	-1.57079633
ultrasonic_sensor_l2_pitch	0.0
ultrasonic_sensor_l2_roll	0.0

# back
ultrasonic_sensor_l1_x	-0.92
ultrasonic_sensor_l1_y	-0.455
ultrasonic_sensor_l1_z	0.188
ultrasonic_sensor_l1_yaw	-3.14159265
ultrasonic_sensor_l1_pitch	0.0
ultrasonic_sensor_l1_roll	0.0



################################################################################################
##
##  Expert parameters
##

[expert]


####################
##### Sensors ######
####################

#GPS NMEA
gps_nmea_dev				/dev/iara_gps   #/dev/ttyUSB1
gps_nmea_baud				115200		# This speed was hand picked in order to allow proper 20Hz Venus GPS operation

# Gps antena position in relation to sensor board
gps_nmea_x	-0.572
gps_nmea_y	0.0
gps_nmea_z	-0.06
gps_nmea_yaw	0.0
gps_nmea_pitch	0.0
gps_nmea_roll	0.0

# Gps antena position in relation to sensor box
gps_nmea_1_x		-0.572
gps_nmea_1_y 		0.0
gps_nmea_1_z		-0.06
gps_nmea_1_yaw 		0.0
gps_nmea_1_pitch	0.0
gps_nmea_1_roll		0.0

# Gps antena position in relation to sensor box
gps_nmea_2_x		-0.73
gps_nmea_2_y		-0.25
gps_nmea_2_z		-0.1
gps_nmea_2_yaw		0.0
gps_nmea_2_pitch	0.0
gps_nmea_2_roll		0.0

# Gps antena position in relation to sensor box
gps_nmea_3_x		0.75
gps_nmea_3_y		-0.23
gps_nmea_3_z		-0.1
gps_nmea_3_yaw		0.0
gps_nmea_3_pitch	0.0
gps_nmea_3_roll		0.0

##############################
# sensor board 1 parameters
# sensor board 1 position and orientation in relation to car

sensor_board_1_x	3.40
sensor_board_1_y	0.0
sensor_board_1_z	0.737
sensor_board_1_yaw	0.0
sensor_board_1_pitch	0.0122173048 # medido com xsens
sensor_board_1_roll	0.0
sensor_board_1_laser_id	0

##############################
# front bullbar parameters
# front bullbar position and orientation in relation to car

front_bullbar_x	3.52
front_bullbar_y	0
front_bullbar_z	0.395 # 0.2
front_bullbar_yaw	0.0
front_bullbar_pitch	0.0
front_bullbar_roll	0.0

##############################
# front bullbar middle parameters
# front bullbar middle position and orientation in relation to front bullbar position

front_bullbar_middle_x	0.0
front_bullbar_middle_y	0.0
front_bullbar_middle_z	0.0
front_bullbar_middle_yaw	0.0
front_bullbar_middle_pitch	0.0
front_bullbar_middle_roll	0.0

##############################
# front bullbar left corner parameters
# front bullbar left corner position and orientation in relation to front bullbar position

front_bullbar_left_corner_x	0
front_bullbar_left_corner_y	0.772
front_bullbar_left_corner_z	0.2
front_bullbar_left_corner_yaw	0.785398
front_bullbar_left_corner_pitch	0.0
front_bullbar_left_corner_roll	0.0
front_bullbar_left_corner_laser_id	2

##############################
# front bullbar right corner parameters
# front bullbar right corner position and orientation in relation to front bullbar position

front_bullbar_right_corner_x	0
front_bullbar_right_corner_y	-0.772
front_bullbar_right_corner_z	0.2
front_bullbar_right_corner_yaw	0.785398
front_bullbar_right_corner_pitch	0.0
front_bullbar_right_corner_roll	0.0
front_bullbar_right_corner_laser_id	0

##############################
# rear bullbar parameters
# rear bullbar  position and orientation in relation to car

rear_bullbar_x	-0.8
rear_bullbar_y	0
rear_bullbar_z	0.2
rear_bullbar_yaw	3.1415
rear_bullbar_pitch	0.0
rear_bullbar_roll	0.0

##############################
# rear bullbar left corner parameters
# rear bullbar left corner position and orientation in relation to rear bullbar position

rear_bullbar_left_corner_x	0
rear_bullbar_left_corner_y	0.772
rear_bullbar_left_corner_z	0.2
rear_bullbar_left_corner_yaw	0.785398
rear_bullbar_left_corner_pitch	0.0
rear_bullbar_left_corner_roll	0.0
rear_bullbar_left_corner_laser_id	0

##############################
# rear bullbar right corner parameters
# rear bullbar right corner position and orientation in relation to rear bullbar position

rear_bullbar_right_corner_x	0
rear_bullbar_right_corner_y	-0.772
rear_bullbar_right_corner_z	0.2
rear_bullbar_right_corner_yaw	0.785398
rear_bullbar_right_corner_pitch	0.0
rear_bullbar_right_corner_roll	0.0
rear_bullbar_right_corner_laser_id	3

###############################
# laser parameters
laser_num_laser_devices 	3
laser_use_device_locks 		off


laser_laser1_dev           	/dev/ttyUSB2
laser_laser1_type          	LMS
laser_laser1_baud          	500000
laser_laser1_resolution    	0.5
laser_laser1_fov           	180
laser_laser1_flipped		0
laser_laser1_use_remission  	none 	# none / direct / normalized

#check conflict with robot_rearlaser id!!!!!
#Hokuyo front bulbar laser
laser_laser2_dev           /dev/ttyACM0
laser_laser2_type          HOKUYOURG
laser_laser2_baud          500000
laser_laser2_resolution    0.5
laser_laser2_fov           270
laser_laser2_flipped    0
laser_laser2_use_remission  none        # none / direct / normalized

#Hokuyo rear bulbar laser
laser_laser3_dev           /dev/ttyACM1
laser_laser3_type          HOKUYOURG
laser_laser3_baud          500000
laser_laser3_resolution    0.5
laser_laser3_fov           270
laser_laser3_flipped    0
laser_laser3_use_remission  none        # none / direct / normalized

###############################
# xsens parameters

# xsens position and orientation in relation to board 1
xsens_x		0.175
xsens_y		-0.01
xsens_z		0.25

xsens_roll	0.0
xsens_pitch	0.0
xsens_yaw	0.0 # 0.17 # de onde veio este 0.17?

# xsens gps antenna position in relation to xsens (in xsens coordinates)
xsens_gps_x	-0.81
xsens_gps_y	-0.006
xsens_gps_z	-0.27
# Magnetic declination at UFES: -23.457849 E

### XSens MTi-G
### xsens xsens_scenario
# Available scenarios:
# Scenario 1: general             
# Scenario 2: automotive          
# Scenario 10: aerospace_nobaro    
# Scenario 3: aerospace           
# Scenario 11: automotive_nobaro  

### XSens MTi
### xsens_mti_settings -> scenarios
# Available scenarios:
# Scenario 4: human               
# Scenario 5: human_large_accel   
# Scenario 6: machine             
# Scenario 7: machine_nomagfield  
# Scenario 8: marine 
xsens_scenario	6
xsens_size_x	0.06
xsens_size_y	0.04
xsens_size_z	0.02
xsens_dev	/dev/ttyUSB0 # /dev/iara_xsens   # 

### XSens antigo
### xsens_mti_settings -> scenarios
# Available scenarios:
# Scenario 4: human               
# Scenario 5: human_large_accel   
# Scenario 6: machine             
# Scenario 7: machine_nomagfield  
# Scenario 8: marine
xsens_mti_mode	5

### xsens_mti_settings
# 1 Quaternion
# 2 Euler
# 3 Matrix
xsens_mti_settings 1
xsens_mti_dev	/dev/ttyUSB0 # /dev/iara_xsens   # 

###############################
# xsensOdometer parameters

xsensOdometer_fake_wheel 		off
xsensOdometer_velocity_threshold 	0.0
xsensOdometer_acceleration_threshold 	0.0
xsensOdometer_constant_friction 	0.0
xsensOdometer_velocity_friction 	0.0


###############################
# velodyne parameters

velodyne_model			32E
velodyne_scan_port 		2368
velodyne_gps_enable  		off
velodyne_gps_port		8308

velodyne_vertical_resolution 32
velodyne_mapper on

velodyne_time_spent_by_each_scan 0.000046091445 # 0.000046091 # approximately 1.0 / (1808.0 * 12.0) (see Velodyne manual)

velodyne_fov 360.0

# velodyne position and orientation in relation to sensor board 1
velodyne_x	0.128
velodyne_y	0.0
velodyne_z	0.090805
velodyne_roll	0.0
velodyne_pitch	-0.0227
velodyne_yaw	-0.01 # 0.09


###############################
# laser sick ldmrs parameters

laser_ldmrs_address		192.168.0.104
laser_ldmrs_port 		12002

laser_ldmrs_x		0.12
laser_ldmrs_y		0.0
laser_ldmrs_z		0.05
laser_ldmrs_roll	0.0
laser_ldmrs_pitch	-0.015 # -0.01 # o raio de baixo -1.2 graus foi rotacionado para 0.0 graus
laser_ldmrs_yaw		-0.01 # 1.5708

laser_ldmrs_vertical_resolution  			4
laser_ldmrs_range_max			  			130.0
laser_ldmrs_time_spent_by_each_scan 		0.00005906049 # calculado a partir da media de 5 scans, considerando scan_start_time, scan_end_time e numero de conjuntos de quatro raios (pilha de raios de um scan)
laser_ldmrs_cutoff_negative_acceleration	2.7


###############################
# joystick parameters

joystick_deadspot			on
joystick_deadspot_size			0.2


###############################
# Bumblebee parameters

#--------- Bumblebee Basic 1 ------------

bumblebee_basic1_width		1280
bumblebee_basic1_height		960
bumblebee_basic1_fx		0.764749
bumblebee_basic1_fy		1.01966
bumblebee_basic1_cu		0.505423
bumblebee_basic1_cv		0.493814
bumblebee_basic1_baseline	0.24004
bumblebee_basic1_pixel_size 0.00000375
bumblebee_basic1_is_legacy 	off
bumblebee_basic1_is_rectified 	on
bumblebee_basic1_model 		XB3
bumblebee_basic1_fov		0.576
bumblebee_basic1_tlight_roi_x		320   	# image_width / 4
bumblebee_basic1_tlight_roi_y		0 		# 0
bumblebee_basic1_tlight_roi_w		640 	# image_width / 2
bumblebee_basic1_tlight_roi_h		480		# image_height / 2
bumblebee_basic1_tlight_focal_dist	1500.0
bumblebee_basic1_tlight_dist_correction	6.0

#--------- Bumblebee Basic 3 ------------

bumblebee_basic3_width		1280 #  640
bumblebee_basic3_height		960  # 480
bumblebee_basic3_fx		0.764749
bumblebee_basic3_fy		1.01966
bumblebee_basic3_cu		0.505423
bumblebee_basic3_cv		0.493814
bumblebee_basic3_baseline	0.24004
bumblebee_basic3_pixel_size 0.00000375
bumblebee_basic3_is_legacy 	off
bumblebee_basic3_is_rectified 	on
bumblebee_basic3_model 		XB3
bumblebee_basic3_fov		0.576
bumblebee_basic3_tlight_roi_x		320 # 160 # 320   	# image_width / 4
bumblebee_basic3_tlight_roi_y		0 		# 0
bumblebee_basic3_tlight_roi_w		640 # 320 # 640 	# image_width / 2
bumblebee_basic3_tlight_roi_h		480 # 240 # 480	# image_height / 2
bumblebee_basic3_tlight_focal_dist	1500.0
bumblebee_basic3_tlight_dist_correction	6.0

#--------- Bumblebee Basic 4 - ZED ------------
#RESOLUTION_HD2K 2208*1242, available framerates: 15 fps.
#RESOLUTION_HD1080 1920*1080, available framerates: 15, 30 fps.
#RESOLUTION_HD720 1280*720, available framerates: 15, 30, 60 fps.
#RESOLUTION_VGA 672*376, available framerates: 15, 30, 60, 100 fps.

bumblebee_basic4_width		1920 # 1280 # 672 # 1280 # 1920
bumblebee_basic4_height		1080 # 720 # 376 # 720  # 1080
bumblebee_basic4_zed_fps	15.0 # 15.0	#0.0 is the default value
# obter estes parametros na documentacao da zed
bumblebee_basic4_fx		0.588241 # 1398.38 
bumblebee_basic4_fy		1.082481 # 1398.38 
bumblebee_basic4_cu		0.5334875 # 1048.73
bumblebee_basic4_cv		0.55319219 # 531.087
bumblebee_basic4_baseline	0.12
# Zed pixel size is not constant -> https://github.com/stereolabs/zed-opencv/issues/39
bumblebee_basic4_pixel_size 0.000002 # 0.000002 at 2208x1242, 0.000002 at 1920x1080, 0.000004 at 1280x720, 0.000008 at 672x376
bumblebee_basic4_is_rectified 	on
bumblebee_basic4_model 		ZED
bumblebee_basic4_fov		0.576
# the original squeezenet image was 1280x720 
bumblebee_basic4_tlight_roi_x		270 #400 # 480   	# image_width / 4
bumblebee_basic4_tlight_roi_y		0 # 270 	# image_height / 4
bumblebee_basic4_tlight_roi_w		1280 #1150 # 960 	# image_width / 2
bumblebee_basic4_tlight_roi_h		720 #650 # 540		# image_height / 2
bumblebee_basic4_tlight_focal_dist	2600.0
bumblebee_basic4_tlight_dist_correction	20.0

#--------- Bumblebee Basic 5 ------------

bumblebee_basic5_width		640 # 1280
bumblebee_basic5_height		480 # 960
bumblebee_basic5_fx		0.750653
bumblebee_basic5_fy		1.00087
bumblebee_basic5_cu		0.503023
bumblebee_basic5_cv		0.497955
bumblebee_basic5_baseline	0.239957
bumblebee_basic5_pixel_size 0.00000375
bumblebee_basic5_is_legacy 	off
bumblebee_basic5_is_rectified 	on
bumblebee_basic5_model 		XB3
bumblebee_basic5_fov		0.576
bumblebee_basic5_tlight_roi_x		320   	# image_width / 4
bumblebee_basic5_tlight_roi_y		0 		# 0
bumblebee_basic5_tlight_roi_w		640 	# image_width / 2
bumblebee_basic5_tlight_roi_h		480		# image_height / 2
bumblebee_basic5_tlight_focal_dist	1500.0
bumblebee_basic5_tlight_dist_correction	6.0

#--------- Bumblebee Basic 6 ------------

bumblebee_basic6_width		1280
bumblebee_basic6_height		960
bumblebee_basic6_fx		0.750653
bumblebee_basic6_fy		1.00087
bumblebee_basic6_cu		0.503023
bumblebee_basic6_cv		0.497955
bumblebee_basic6_baseline	0.239957
bumblebee_basic6_pixel_size 0.00000375
bumblebee_basic6_is_legacy 	off
bumblebee_basic6_is_rectified 	off
bumblebee_basic6_model 		XB3
bumblebee_basic6_fov		0.576
bumblebee_basic6_tlight_roi_x		320   	# image_width / 4
bumblebee_basic6_tlight_roi_y		0 		# 0
bumblebee_basic6_tlight_roi_w		640 	# image_width / 2
bumblebee_basic6_tlight_roi_h		480		# image_height / 2
bumblebee_basic6_tlight_focal_dist	1500.0
bumblebee_basic6_tlight_dist_correction	6.0

#--------- Bumblebee Basic 8 ------------

bumblebee_basic8_width		640
bumblebee_basic8_height		480
bumblebee_basic8_fx		0.753883
bumblebee_basic8_fy		1.00518 
bumblebee_basic8_cu		0.500662
bumblebee_basic8_cv		0.506046
bumblebee_basic8_baseline	0.240031
bumblebee_basic8_pixel_size 0.00000375
bumblebee_basic8_is_legacy 	off
bumblebee_basic8_is_rectified 	on
bumblebee_basic8_model 		XB3
bumblebee_basic8_fov		0.576
bumblebee_basic8_tlight_roi_x		160   	# image_width / 4
bumblebee_basic8_tlight_roi_y		0 		# 0
bumblebee_basic8_tlight_roi_w		320 	# image_width / 2
bumblebee_basic8_tlight_roi_h		240		# image_height / 2
bumblebee_basic8_tlight_focal_dist	1500.0
bumblebee_basic8_tlight_dist_correction	6.0

#--------- Bumblebee Basic 9 ------------

bumblebee_basic9_width		640
bumblebee_basic9_height		480
bumblebee_basic9_fx		0.0
bumblebee_basic9_fy		0.0
bumblebee_basic9_cu		0.0
bumblebee_basic9_cv		0.0
bumblebee_basic9_baseline	0.0
bumblebee_basic9_pixel_size 0.00000375
bumblebee_basic9_is_legacy 	off
bumblebee_basic9_is_rectified 	on
bumblebee_basic9_model 		KITTI
bumblebee_basic9_fov		0.576
bumblebee_basic9_tlight_roi_x		160   	# image_width / 4
bumblebee_basic9_tlight_roi_y		0 		# 0
bumblebee_basic9_tlight_roi_w		320 	# image_width / 2
bumblebee_basic9_tlight_roi_h		240		# image_height / 2
bumblebee_basic9_tlight_focal_dist	1500.0
bumblebee_basic9_tlight_dist_correction	6.0

#--------- Pi Camera 9 ------------
camera9_width      640 #1280 #1920
camera9_height     480 #720  #1080
camera9_frame_rate 90
camera9_brightness 55
camera9_contrast   10
camera9_ip         192.168.1.15


###############################
# Traffic light parameters

#--------- Traffic light ------------
traffic_light_use_squeezenet 	on
traffic_light_gpu_mode 			on
traffic_light_gpu_device_id 	0	


###############################
# Traffic light view parameters

#--------- Traffic light view ------------
traffic_light_viewer_width	640


#######################
####### Filters #######
#######################

#--------- stereo 3 ------------

stereo3_width   		1280 # 640 # 1280 # 
stereo3_height   		960 # 480 # 960 #  
stereo3_max_disparity  	100
stereo3_smoothing_kernel_size 15

#stereo3_algorithm VGRAM
#stereo3_algorithm CSBP
stereo3_algorithm ELAS

stereo3_gaussian_radius 7.0
stereo3_synapses 128

stereo3_wintakeiteration 3
stereo3_numdisparity 48 # 36
stereo3_numthreads 8

stereo3_scalew 	1280 # 640 # 1280 #  
stereo3_scaleh  960 # 480 # 960 # 

stereo3_vertical_ROI_ini 0 # 150 # 0
stereo3_vertical_ROI_end 960 # 480 # 350 # 375 # 750

stereo3_horizontal_ROI_ini 0
stereo3_horizontal_ROI_end 1280 # 640 # 1280 # 

#--------- stereo 4 - ZED ------------

stereo4_width  1920 # 1280 # 640 
stereo4_height  1080 # 960 # 480 
stereo4_max_disparity  128
stereo4_smoothing_kernel_size 15

stereo4_scalew 1280 # 640 
stereo4_scaleh 960 # 480 

#--------- stereo 6 ------------

stereo6_width  1280
stereo6_height   960
stereo6_max_disparity  128
stereo6_smoothing_kernel_size 15

#stereo6_algorithm VGRAM
#stereo6_algorithm CSBP
stereo6_algorithm ELAS

stereo6_gaussian_radius 10.0
stereo6_synapses 256

stereo6_wintakeiteration 1
stereo6_numdisparity 36
stereo6_numthreads 8

stereo6_scalew 1280
stereo6_scaleh 960

stereo6_vertical_ROI_ini 0
stereo6_vertical_ROI_end 960

stereo6_horizontal_ROI_ini 0
stereo6_horizontal_ROI_end 1280

#--------- stereo 8 ------------

stereo8_width  640 # 1280
stereo8_height   480 # 960
stereo8_max_disparity  128 # 256
stereo8_smoothing_kernel_size 15

#stereo8_algorithm VGRAM
#stereo8_algorithm CSBP
stereo8_algorithm ELAS

stereo8_gaussian_radius 10.0
stereo8_synapses 256

stereo8_wintakeiteration 1
stereo8_numdisparity 128 # 256
stereo8_numthreads 8

stereo8_scalew 640 # 1280
stereo8_scaleh 480 # 960

stereo8_vertical_ROI_ini 150 # 300
stereo8_vertical_ROI_end 350 # 700

stereo8_horizontal_ROI_ini 0
stereo8_horizontal_ROI_end 640 # 1280


############################
# Stereo Velodyne Parameters
############################

#--------- Stereo Velodyne 3------------

stereo_velodyne3_num_points_cloud 1 
stereo_velodyne3_flipped off

stereo_velodyne3_horizontal_resolution 	1280 # 640 # 320 # 640 # 320
stereo_velodyne3_vertical_resolution 	240 # 120 # 240 # 480 # 100
stereo_velodyne3_range_max 				50.0 # 10.0

stereo_velodyne3_horizontal_roi_ini 0
stereo_velodyne3_horizontal_roi_end 1280 # 640 # 1280 # 640
stereo_velodyne3_vertical_roi_ini 	0 # 30 # 0
stereo_velodyne3_vertical_roi_end 	700 # 350 # 960 # 460

#--------- Stereo Velodyne 8------------

stereo_velodyne8_num_points_cloud 1
stereo_velodyne8_flipped off

stereo_velodyne8_vertical_resolution 120
stereo_velodyne8_horizontal_resolution 320
stereo_velodyne8_range_max 50.0

stereo_velodyne8_horizontal_roi_ini 0
stereo_velodyne8_horizontal_roi_end 1280
stereo_velodyne8_vertical_roi_ini 	200 # 0
stereo_velodyne8_vertical_roi_end 	660 # 960

###############################
# camera position and orientation in relation to car

#----------- Camera 1 (LASER SICK) ------------

camera1_x		3.5
camera1_y		0.0
camera1_z		0.2
camera1_roll		0.0
camera1_pitch  		0.0	# 0.0 #0.0263
camera1_yaw		0.0

#----------- Camera 8 ------------

camera8_x		0.245
camera8_y		-0.287
camera8_z		0.085
camera8_roll	0.0
camera8_pitch  0.09	# 0.0 #0.0263
camera8_yaw		0.0

#----------- Camera 3 ------------

camera3_x		0.245   	#0.130 		#teste do tracker 0.25			# 0.325 			# 1.23
camera3_y		-0.04		#0.149		# -0.28
camera3_z		0.210 		#0.214 			#0.146			# 1.13
camera3_roll	-0.017453 		# -0.017453 	#0.0		# 0.0
camera3_pitch	0.026037		# -0.034907 	#0.0		# 0.053
camera3_yaw		-0.023562 		# -0.017453	#0.0 		#0.5585			# 0.09

#----------- Camera 4 - ZED ------------

camera4_x		0.395000
camera4_y		0.023000
camera4_z		-0.185000
camera4_roll	0.026180
camera4_pitch  0.020186
camera4_yaw		0.026180

#----------- Camera 5 ------------

camera5_x		-0.175000 			# 1.23
camera5_y		-0.180000 			# -0.28
camera5_z		0.215000 			# 1.13
camera5_roll	-0.008726 			# 0.0
camera5_pitch	0.026037			# 0.053
camera5_yaw		3.1216			    # 0.09
 
#----------- Camera 9 ------------

camera9_x		0.0
camera9_y		0.0
camera9_z		0.0
camera9_roll	0.0
camera9_pitch	0.0
camera9_yaw	0.0


###############################
# Visual Tracker OpenTLD parameters
###############################

tracker_opentld_view_width			1280 #640
tracker_opentld_view_height			960 #480
tracker_opentld_confidence_threshold		0.5 #Confidence detection threshold
tracker_opentld_detector_minScale		-10 #number of scales smaller than initial object size
tracker_opentld_detector_maxScale		10 #number of scales larger than initial object size
tracker_opentld_detector_numFeatures		15 #number of features
tracker_opentld_detector_minSize		25 #minimum size of scanWindows
tracker_opentld_detector_thetaP			0.65
tracker_opentld_detector_thetaN			0.5

#######################
##### Interfaces ######
#######################


###############################
# navigator_gui parameter

navigator_panel_initial_map_zoom		100.0
navigator_panel_track_robot				on
navigator_panel_draw_waypoints			off
navigator_panel_draw_robot_waypoints	off
navigator_panel_draw_path				on
navigator_panel_show_particles			on
navigator_panel_show_gaussians			off
navigator_panel_show_true_pos			on
navigator_panel_show_tracked_objects	on
navigator_panel_show_laser				off
navigator_panel_show_simulator_objects	on
navigator_panel_show_command_path		on
navigator_panel_show_motion_path		on
navigator_panel_show_dynamic_objects	on
navigator_panel_show_dynamic_points		on
navigator_panel_show_annotations		on
navigator_panel_show_lane_markings		off
navigator_panel_show_collision_range	off
navigator_panel_exploration_mode		off
navigator_panel_use_ackerman			on
navigator_panel_localize_std_x			0.5
navigator_panel_localize_std_y			0.5
navigator_panel_localize_std_theta		5.0 # in degrees
navigator_panel_map						Map
navigator_panel_superimposed_map		None # Offline Map


###############################
# robot_gui parameters

robotgui_connect_distance		40.0
robotgui_gui_control			on
robotgui_show_velocity			off
robotgui_show_vector			on


###############################
# viewer_3D parameters
viewer_3D_background_red		255.0
viewer_3D_background_green		255.0
viewer_3D_background_blue		255.0

viewer_3D_point_size			1
viewer_3D_ldmrs_size			3
viewer_3D_ldmrs_min_velocity	1.0
viewer_3D_laser_size			1
viewer_3D_velodyne_size			1
viewer_3D_odometry_size 		6
viewer_3D_gps_size 				6000
viewer_3D_localize_ackerman_size	6
viewer_3D_stereo_point_cloud_size	10
viewer_3D_camera_square_size	3

# car model position and orientation in relation to the car
carmodel_x		1.2	# TODO: mudar nome para viewer_3D...
carmodel_y		0.0
carmodel_z		0.28
carmodel_roll		0.0
carmodel_pitch		0.0
carmodel_yaw		0.0
carmodel_size_x		4.437
carmodel_size_y		1.806
carmodel_size_z		1.725


###############################
# camera position and orientation in relation to car

camera_x	0.245	# TODO: tem que ser lido no contexto da sensor board
camera_y	-0.287
camera_z	0.085
camera_roll	0.0
camera_pitch	0.0263
camera_yaw	0.0


###############################
# laser position and orientation in relation to car

laser_x		1.23	# TODO: tem que tratar o caso de nao ter, como nao tem... E o velodyne?
laser_y		-0.28
laser_z		1.13
laser_roll	0.0
laser_pitch	0.053 # tem que estimar
laser_yaw	0.0

# laser parameters

laser_size_x	0.25
laser_size_y	0.25
laser_size_z	0.32



##################################
##### Simulators and Logger ######
##################################


###############################
# simulator parameters

simulator_person_leg_width		1.5
simulator_person_dist_from_robot	0.4
simulator_person_speed			0.6

simulator_time					0.025
simulator_sync_mode				off
simulator_laser_probability_of_random_max	.0001
simulator_laser_probability_of_random_reading	.0001
simulator_laser_sensor_variance			.001
simulator_sonar_probability_of_random_max	.01
simulator_sonar_probability_of_random_reading	.005
simulator_sonar_sensor_variance			.05
simulator_use_robot				off
simulator_use_velocity_nn				on
simulator_use_phi_nn				on

simulator_send_localize_messages		on

simulator_frontlaser_maxrange        		50      # m
simulator_rearlaser_maxrange         		50      # m

simulator_ackerman_publish_laser 		on

simulator_motion_timeout			10000.0


###############################
# logger parameters

#logger_ascii		off
logger_localize		off
logger_gps		on
logger_simulator	off
logger_imu          	off
logger_xsens		on
logger_velodyne		on
logger_velodyne_save_to_file on 
logger_xsens_mtig	off
logger_odometry		on
logger_visual_odometry 	off
logger_laser		on
logger_robot_laser	off
logger_params		on
logger_motioncmds   	off  # includes base_velocity and motion commands given to robot
logger_kinect		off
logger_bumblebee	on
logger_bumblebee_frames_to_save 1 # How many frames you save (1 for all)
logger_bumblebee_save_to_file on 
logger_web_cam		off
logger_sonar		off
logger_ford_escape_status on
logger_can_dump		off

######################################
# driving_playback parameters
######################################

driving_playback_distance_between_waypoints 1.0
driving_playback_num_poses_ahead 20

######################################
# polar_slam parameters
######################################

#polar_slam_odom_a1 0.00002
#polar_slam_odom_a2 0.00001
#polar_slam_odom_a3 0.00002
#polar_slam_odom_a4 0.00001

polar_slam_odom_a1 0.2
polar_slam_odom_a2 0.01
polar_slam_odom_a3 0.2
polar_slam_odom_a4 0.01

polar_slam_laser_sampling_step 		36
polar_slam_laser_num_beams 		361
polar_slam_laser_fov_range		180.0
polar_slam_laser_start_angle		-90.0
polar_slam_laser_max_range 		50.0
polar_slam_laser_lambda_short 		1.0
polar_slam_laser_sigma_zhit 		0.3
polar_slam_laser_zhit 			0.4
polar_slam_laser_zmax 			0.4
polar_slam_laser_zrand 			0.1
polar_slam_laser_zshort 		0.1

polar_slam_num_spheres			6
polar_slam_num_particles		20
polar_slam_num_points_to_store		20
polar_slam_num_angular_sections		360

######################################
# download map
download_map_from_internet	off


visual_odometry_is_global_pos off

######################################
# saliency search

saliency_search_camera 8
saliency_search_number_of_saliencies 5

#####################################
#

neural_global_localizer_camera	8
neural_global_localizer_training off
neural_global_localizer_save_train off


#####################################
# ekf odometry

ekf_odometry_camera	 		8
ekf_odometry_sensor_timeout 		10.0
ekf_odometry_frequency			5.0
ekf_odometry_odom_used  		off
ekf_odometry_vodom_used  		on
ekf_odometry_imu_used  			off
ekf_odometry_gps_used  			off
ekf_odometry_neural_globalpos_used 	on


####################################
# ZED Camera Sensor - JUST TO KEEP OLD THINGS WORKING-USE BUMBLEBEE PARAMETERS @@@Vinicius:Atualizar codigo_ZED

zed_camera_sensor_quality		2 	#HD2K: 0, HD1080: 1, HD720: 2, VGA: 3
zed_camera_sensor_fps			0.0	#0.0 is the default value
#RESOLUTION_HD2K 2208*1242, available framerates: 15 fps.
#RESOLUTION_HD1080 1920*1080, available framerates: 15, 30 fps.
#RESOLUTION_HD720 1280*720, available framerates: 15, 30, 60 fps.
#RESOLUTION_VGA 672*376, available framerates: 15, 30, 60, 100 fps.


####################################
# Road Mapper

road_mapper_sample_width		120	# pixels
road_mapper_sample_height		120	# pixels
road_mapper_distance_sample		5.0	# meters
road_mapper_distance_offset		0.5	# meters
road_mapper_n_offset			3	# n shifts to the left and n shifts to the right
road_mapper_n_rotation			24	# delta = (360 degrees / n_rotation)
road_mapper_out_path			$CARMEN_HOME/data/road_mapper  		# out path for generated sample files
road_mapper_out_path_remission		$CARMEN_HOME/data/road_mapper_remission # out path for generated remission files
road_mapper_image_channels		*	# road map sample image pixel may have either 1 (B&W) or 3 channels (BGR) or * for both
road_mapper_image_class_bits		4	# road map sample image pixel class may have 0 to 6 precision bits (B&W) or 8 precision bits (BGR)
road_mapper_remission_image_channels	3	# remission map sample image pixel may have either 1 (B&W) or 3 channels (BGR) or * for both
road_mapper_sampling_stride		50  # pixels,
road_mapper_prototxt_filename	$CARMEN_HOME/src/road_mapper/data/bn_conv_merged_model.prototxt # Caffe ENet model file
road_mapper_caffemodel_filename	$CARMEN_HOME/src/road_mapper/data/bn_conv_merged_weights.caffemodel # Caffe ENet trained weights file
road_mapper_label_colours_filename	$CARMEN_HOME/src/road_mapper/data/road_mapper_17.png # Caffe ENet label colours file
road_mapper_kernel_size			7   # kernel size used for rddf building from road map
