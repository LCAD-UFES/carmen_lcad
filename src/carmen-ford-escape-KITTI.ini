[*]

# Parameters for all robots

#example parameters
skeleton_module_sensor_getkey on

#####################################
##### Localization and Mapping ######
#####################################


###############################
# localize parameters

localize_ackerman_safe_range_above_sensors 	-0.3
localize_ackerman_number_of_sensors 		10
localize_ackerman_velodyne 			on 

localize_ackerman_velodyne_safe_range_above_sensors 	-0.3

localize_ackerman_velodyne_laser_max_range		50.0
localize_ackerman_velodyne_range_max			50.0
localize_ackerman_velodyne_locc 			2.7
localize_ackerman_velodyne_lfree			-2.0
localize_ackerman_velodyne_l0				0.0
localize_ackerman_velodyne_unexpeted_delta_range_sigma 	5.8
localize_ackerman_velodyne_lambda_short_min		1.5
localize_ackerman_velodyne_lambda_short_max		5.5
localize_ackerman_velodyne_range_max_factor		1.0

localize_ackerman_correction_type	0 # correcao usando soma das likelihood do map
#localize_ackerman_correction_type	1 # correcao usando coseno entre os mapas probabilisticos
#localize_ackerman_correction_type	2 # correcao usando coseno entre o mapa de likelihood
#localize_ackerman_correction_type	3 # correcao usando a distancia de pearson
#localize_ackerman_correction_type	4 # correcao usando coseno entre os mapas de remission
#localize_ackerman_correction_type	5 # correcao usando coseno entre os mapas de remission mais o coseno do mapa de grid
#localize_ackerman_correction_type	6 # correcao usando 


localize_ackerman_stereo_velodyne1 				off
localize_ackerman_stereo_velodyne1_locc 			5.0
localize_ackerman_stereo_velodyne1_lfree 			-5.0
localize_ackerman_stereo_velodyne1_lambda_short_min 		25.0
localize_ackerman_stereo_velodyne1_lambda_short_max 		25.0
localize_ackerman_stereo_velodyne1_l0 				0.0
localize_ackerman_stereo_velodyne1_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne2 				off
localize_ackerman_stereo_velodyne2_locc 			5.0
localize_ackerman_stereo_velodyne2_lfree 			-5.0
localize_ackerman_stereo_velodyne2_lambda_short_min 		1.0
localize_ackerman_stereo_velodyne2_lambda_short_max 		1.0
localize_ackerman_stereo_velodyne2_l0 				0.0
localize_ackerman_stereo_velodyne2_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne3 				off
localize_ackerman_stereo_velodyne3_locc				5.0
localize_ackerman_stereo_velodyne3_lfree			-5.0
localize_ackerman_stereo_velodyne3_lambda_short_max		25.0
localize_ackerman_stereo_velodyne3_lambda_short_min		25.0
localize_ackerman_stereo_velodyne3_l0				0.0
localize_ackerman_stereo_velodyne3_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne4 				off
localize_ackerman_stereo_velodyne4_locc				5.0
localize_ackerman_stereo_velodyne4_lfree			-5.0
localize_ackerman_stereo_velodyne4_lambda_short_max 		25.0
localize_ackerman_stereo_velodyne4_lambda_short_min		25.0
localize_ackerman_stereo_velodyne4_l0				0.0
localize_ackerman_stereo_velodyne4_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne5				off
localize_ackerman_stereo_velodyne5_locc				5.0
localize_ackerman_stereo_velodyne5_lfree			-5.0
localize_ackerman_stereo_velodyne5_lambda_short_max 		25.0
localize_ackerman_stereo_velodyne5_lambda_short_min 		25.0
localize_ackerman_stereo_velodyne5_l0 				0.0
localize_ackerman_stereo_velodyne5_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne6				off
localize_ackerman_stereo_velodyne6_locc				5.0
localize_ackerman_stereo_velodyne6_lfree			-5.0
localize_ackerman_stereo_velodyne6_lambda_short_max		25.0
localize_ackerman_stereo_velodyne6_lambda_short_min		25.0
localize_ackerman_stereo_velodyne6_l0				0.0
localize_ackerman_stereo_velodyne6_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne7				off
localize_ackerman_stereo_velodyne7_locc				5.0
localize_ackerman_stereo_velodyne7_lfree			-5.0
localize_ackerman_stereo_velodyne7_lambda_short_min		25.0
localize_ackerman_stereo_velodyne7_lambda_short_max		25.0
localize_ackerman_stereo_velodyne7_l0				0.0
localize_ackerman_stereo_velodyne7_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne8				on
localize_ackerman_stereo_velodyne8_locc				5.0
localize_ackerman_stereo_velodyne8_lfree			-5.0
localize_ackerman_stereo_velodyne8_lambda_short_min		10.0
localize_ackerman_stereo_velodyne8_lambda_short_max		10.0
localize_ackerman_stereo_velodyne8_l0				0.0
localize_ackerman_stereo_velodyne8_unexpeted_delta_range_sigma 	6.0

localize_ackerman_stereo_velodyne9				off
localize_ackerman_stereo_velodyne9_locc				5.0
localize_ackerman_stereo_velodyne9_lfree			-5.0
localize_ackerman_stereo_velodyne9_lambda_short_max		25.0
localize_ackerman_stereo_velodyne9_lambda_short_min		25.0
localize_ackerman_stereo_velodyne9_l0				0.0
localize_ackerman_stereo_velodyne9_unexpeted_delta_range_sigma 	6.0

localize_ackerman_swarm_max_particle_velocity			2.0
localize_ackerman_swarm_max_particle_angular_velocity		0.5
localize_ackerman_swarm_num_iteration				5

localize_ackerman_max_particle_displacement			10.0
localize_ackerman_max_particle_angular_displacement		0.5

localize_ackerman_de_crossover_rate				0.9
localize_ackerman_de_mutation_rate				0.2
localize_ackerman_de_num_iteration				2

localize_ackerman_velocity_noise_velocity	0.003  # standard deviation in meters/s
localize_ackerman_velocity_noise_phi		0.0    # standard deviation in degrees
localize_ackerman_phi_noise_phi			0.03   # standard deviation in degrees
localize_ackerman_phi_noise_velocity		0.0    # standard deviation in degrees

localize_ackerman_use_velocity_prediction on


localize_num_particles			1000
localize_laser_max_range		50.0  # TODO: ler do laser. E no caso do mapper produzindo o laser?
localize_use_rear_laser			off

localize_min_wall_prob			0.25
localize_outlier_fraction		0.90
localize_update_distance		0.0
localize_integrate_angle_deg		3.0
localize_do_scanmatching		off
localize_constrain_to_map		off
localize_occupied_prob			0.5
localize_lmap_std			0.3
localize_global_lmap_std		0.6
localize_global_evidence_weight		0.01
localize_global_distance_threshold	2.0
localize_global_test_samples		100000
localize_use_sensor			on
localize_tracking_beam_minlikelihood	0.02
localize_global_beam_minlikelihood	0.08

## new (learned) motion model
localize_mean_c_d 			-0.0123
localize_mean_c_t 			-0.1065
localize_std_dev_c_d 			0.1380
localize_std_dev_c_t 			0.2347

localize_mean_d_d 			1.0055
localize_mean_d_t 			0.0025
localize_std_dev_d_d 			0.1925
localize_std_dev_d_t 			0.3982

localize_mean_t_d 			-0.0035
localize_mean_t_t 			0.9638
localize_std_dev_t_d 			0.0110
localize_std_dev_t_t 			0.3300

################################
#SLAM ICP parameters

slam_icp_initialization_time 0.0	
slam_icp_update_distance 0.1
slam_icp_update_angle 5.0
slam_icp_highest_point 3.0
###############################
# Localize Monte Carlo parameters
localize_traf_num_particles 500

# see MotionModelTypes enumeration
# OdometryMotionModel = 1
# VelocityMotionModel = 2
# AckermanMotionModel = 3
localize_traf_motion_model 3

localize_traf_odom_a1 0.00002	
localize_traf_odom_a2 0.00001	
localize_traf_odom_a3 0.00002	
localize_traf_odom_a4 0.00001	
                                        
localize_traf_ack_a1 0.02
localize_traf_ack_a2 0.001
localize_traf_ack_a3 0.001
localize_traf_ack_a4 0.001
localize_traf_global_distance_threshold	2.0

localize_traf_vel_a1 0.01
localize_traf_vel_a2 0.5
localize_traf_vel_a3 0.01
localize_traf_vel_a4 0.5
localize_traf_vel_a5 0.01
localize_traf_vel_a6 0.5

localize_traf_laser_sampling_step 	18
localize_traf_laser_num_beams 		361
localize_traf_laser_fov_range 		180.0
localize_traf_laser_start_angle		-90.0
localize_traf_laser_max_range 		20.0
localize_traf_laser_lambda_short 	1.0
localize_traf_laser_sigma_zhit 		0.3
localize_traf_laser_zhit 		0.3
localize_traf_laser_zmax 		0.5
localize_traf_laser_zrand 		0.1
localize_traf_laser_zshort 		0.1

####################################
# fused_odometry parameters

fused_odometry_num_particles 		5000
fused_odometry_frequency		40

fused_odometry_kalman_filter		off

# Theses numbers represent how the first variable varies in relation to the square of the second
# when noise is added in the filtering algorithm
fused_odometry_velocity_noise_velocity	0.1   # standard deviation in meters/s
fused_odometry_velocity_noise_phi	0.0   # standard deviation in degrees
fused_odometry_phi_noise_phi		0.0   # standard deviation in degrees
fused_odometry_phi_noise_velocity	0.02   # standard deviation in degrees
fused_odometry_pitch_v_noise_pitch_v	0.0   # standard deviation in degrees
fused_odometry_pitch_v_noise_velocity	0.0   # standard deviation in degrees

fused_odometry_minimum_speed_for_correction	0.1  # m/s
fused_odometry_maximum_phi			30.0 # in degrees

fused_odometry_xsens_yaw_bias_noise		20.0  # 5.0 # standard deviation in degrees
fused_odometry_xsens_maximum_yaw_bias		0.0 # in degrees

fused_odometry_xsens_roll_std_error		0.0  # 5.0  # in degrees
fused_odometry_xsens_pitch_std_error		0.0  # 2.0  # in degrees
fused_odometry_xsens_yaw_std_error		20.0 # in degrees

fused_odometry_xsens_gps_x_std_error		3.0  # meters
fused_odometry_xsens_gps_y_std_error		3.0  # meters
fused_odometry_xsens_gps_z_std_error		3.0  # meters

fused_odometry_acc_std_error		0.0 # 0.008
fused_odometry_acc_bias_std_error	0.0 # 0.08

fused_odometry_use_viso_odometry	0
fused_odometry_use_car_odometry		1



###############################
# map_server params volta

map_server_publish_grid_mapping 	on
map_server_initial_waiting_time		3.0
map_server_map_grid_res			0.2 #0.29296875
map_server_map_width			150.0
map_server_map_height			150.0
map_server_time_interval_for_map_change	0.3

#map_server param para escolher publicar google_map no lugar de offline_map

map_server_publish_google_map	off

###############################
# mapper params 

mapper_number_of_sensors 		11
mapper_safe_range_above_sensors 	-0.3
mapper_max_velocity_lambda_short_state 	3.0

# Remover isto deste ini e dos modulos: tekm que usar os dados especificos de cada sensor
mapper_map_locc 		5.0
mapper_map_lfree 		-1.0
mapper_map_l0 			0.0
mapper_map_log_odds_max 	150.0
mapper_map_log_odds_min 	50.0
mapper_map_log_odds_bias 	100.0
mapper_map_range_factor 	1.0

mapper_map_grid_res 		0.2 #0.29296875
mapper_map_width 		150.0
mapper_map_height 		150.0

mapper_map_global_grid_res 	4.0
mapper_map_global_width 	1800
mapper_map_global_height 	1800

mapper_moving_objects_raw_map 	on

###################################################################
## Use the parameters below for usual localization and navigation
mapper_update_and_merge_with_snapshot_map	off
mapper_global_map 				off
mapper_merge_with_offline_map 			on
mapper_update_and_merge_with_mapper_saved_maps	off
mapper_build_snapshot_map			off
mapper_velodyne_range_max		 	50.0
mapper_velodyne_range_max_factor 		1.0

## Use the parameters below for building maps
#mapper_update_and_merge_with_snapshot_map	off
#mapper_global_map 				off
#mapper_merge_with_offline_map 			off
#mapper_update_and_merge_with_mapper_saved_maps	on
#mapper_build_snapshot_map			off
#mapper_velodyne_range_max		 	50.0
#mapper_velodyne_range_max_factor 		4.0
###################################################################
## The parameters below are used with mapper -mapping_mode options
mapper_mapping_mode_off_update_and_merge_with_snapshot_map		off
mapper_mapping_mode_off_global_map 								off
mapper_mapping_mode_off_merge_with_offline_map 					off
mapper_mapping_mode_off_decay_to_offline_map					on
mapper_mapping_mode_off_update_and_merge_with_mapper_saved_maps	off
mapper_mapping_mode_off_build_snapshot_map						off
mapper_mapping_mode_off_velodyne_range_max		 				50.0
mapper_mapping_mode_off_velodyne_range_max_factor 				1.0
mapper_mapping_mode_off_create_map_sum_and_count				off
mapper_mapping_mode_off_use_remission							off
mapper_mapping_mode_off_laser_ldmrs 							on

mapper_mapping_mode_on_update_and_merge_with_snapshot_map		off
mapper_mapping_mode_on_global_map 								off
mapper_mapping_mode_on_merge_with_offline_map 					off
mapper_mapping_mode_on_decay_to_offline_map						off
mapper_mapping_mode_on_update_and_merge_with_mapper_saved_maps	on
mapper_mapping_mode_on_build_snapshot_map						off
mapper_mapping_mode_on_velodyne_range_max		 				50.0
mapper_mapping_mode_on_velodyne_range_max_factor 				4.0
mapper_mapping_mode_on_create_map_sum_and_count					off
mapper_mapping_mode_on_use_remission							on
mapper_mapping_mode_on_laser_ldmrs 								off
###################################################################

mapper_stereo_mapping off
mapper_stereo_mapping_locc 	-1.0
mapper_stereo_mapping_lfree 	-5.0

mapper_velodyne 					on
mapper_velodyne_locc 					2.7
mapper_velodyne_lfree 					-2.0
mapper_velodyne_l0 					0.0
mapper_velodyne_unexpeted_delta_range_sigma 		5.8

mapper_velodyne_lambda_short_min 			1.5
mapper_velodyne_lambda_short_max 			5.5


mapper_stereo_velodyne1 				off
mapper_stereo_velodyne1_locc 				5.0
mapper_stereo_velodyne1_lfree 				-5.0
mapper_stereo_velodyne1_lambda_short_min 		25.0
mapper_stereo_velodyne1_lambda_short_max 		25.0
mapper_stereo_velodyne1_l0 				0.0
mapper_stereo_velodyne1_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne2 				off
mapper_stereo_velodyne2_locc 				5.0
mapper_stereo_velodyne2_lfree 				-5.0
mapper_stereo_velodyne2_lambda_short_min 		1.0
mapper_stereo_velodyne2_lambda_short_max 		1.0
mapper_stereo_velodyne2_l0 				0.0
mapper_stereo_velodyne2_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne3 				off
mapper_stereo_velodyne3_locc				5.0
mapper_stereo_velodyne3_lfree				-5.0
mapper_stereo_velodyne3_lambda_short_max		25.0
mapper_stereo_velodyne3_lambda_short_min		25.0
mapper_stereo_velodyne3_l0				0.0
mapper_stereo_velodyne3_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne4 				off
mapper_stereo_velodyne4_locc				5.0
mapper_stereo_velodyne4_lfree				-5.0
mapper_stereo_velodyne4_lambda_short_max 		25.0
mapper_stereo_velodyne4_lambda_short_min		25.0
mapper_stereo_velodyne4_l0				0.0
mapper_stereo_velodyne4_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne5					off
mapper_stereo_velodyne5_locc				5.0
mapper_stereo_velodyne5_lfree				-5.0
mapper_stereo_velodyne5_lambda_short_max 		25.0
mapper_stereo_velodyne5_lambda_short_min 		25.0
mapper_stereo_velodyne5_l0 				0.0
mapper_stereo_velodyne5_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne6					off
mapper_stereo_velodyne6_locc				5.0
mapper_stereo_velodyne6_lfree				-5.0
mapper_stereo_velodyne6_lambda_short_max		25.0
mapper_stereo_velodyne6_lambda_short_min		25.0
mapper_stereo_velodyne6_l0				0.0
mapper_stereo_velodyne6_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne7					off
mapper_stereo_velodyne7_locc				5.0
mapper_stereo_velodyne7_lfree				-5.0
mapper_stereo_velodyne7_lambda_short_min		25.0
mapper_stereo_velodyne7_lambda_short_max		25.0
mapper_stereo_velodyne7_l0				0.0
mapper_stereo_velodyne7_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne8					off
mapper_stereo_velodyne8_locc				5.0
mapper_stereo_velodyne8_lfree				-5.0
mapper_stereo_velodyne8_lambda_short_min		10.0
mapper_stereo_velodyne8_lambda_short_max		10.0
mapper_stereo_velodyne8_l0				0.0
mapper_stereo_velodyne8_unexpeted_delta_range_sigma 	6.0

mapper_stereo_velodyne9					off
mapper_stereo_velodyne9_locc				5.0
mapper_stereo_velodyne9_lfree				-5.0
mapper_stereo_velodyne9_lambda_short_max		25.0
mapper_stereo_velodyne9_lambda_short_min		25.0
mapper_stereo_velodyne9_l0				0.0
mapper_stereo_velodyne9_unexpeted_delta_range_sigma 	6.0


######################################
# stereo mapping parameters

stereo_map_width			50.0
stereo_map_height			30.0
stereo_map_grid_res			0.2
stereo_map_locc 			5
stereo_map_lfree 			-5
stereo_map_l0 				0
stereo_map_log_odds_max 		224
stereo_map_log_odds_min 		32
stereo_map_log_odds_bias 		8
stereo_map_frontal_camera		8
stereo_map_laser_num_beams		361


######################################
# moving objects parameters

moving_objects_safe_range_above_sensors		3.0


#######################
##### Navigation ######
#######################

###############################
# navigator parameters

navigator_ackerman_use_fused_odometry_pose on
navigator_goal_size			1.0
navigator_goal_theta_tolerance		0.3

navigator_map_update_radius             3.0
navigator_map_update_obstacles          off
navigator_map_update_freespace 	  	off
navigator_map_update_num_laser_beams    361
navigator_replan_frequency		5
navigator_smooth_path			on
navigator_dont_integrate_odometry	off
navigator_plan_to_nearest_free_point    on
navigator_waypoint_tolerance            1.0

navigator_map 				from_mapping #from_param_daemon #from_param_daemon #from_mapping
navigator_superimposed_map		from_map_server

# A*

navigator_astar_path_interval			0.5
navigator_astar_state_map_resolution		1.0
navigator_astar_state_map_theta_resolution	5
navigator_astar_precomputed_cost_size		200
navigator_astar_precomputed_cost_file_name	precomp_ackerman_200_phi27_r0.2_i0.01.data #precomp_ackerman_100_r0.2_i0.01_center.data
navigator_astar_use_rs				on	
navigator_astar_smooth_path			off
navigator_astar_onroad_max_plan_time		0.5
navigator_astar_robot_fat_space			0.6

motion_planner_phi_gain				1.5

###############################
# RRT Planner
 
rrt_distance_interval		3.5
rrt_plan_time			0.03
rrt_timeout			0.05
rrt_cheat			off
rrt_show_debug_info		off
rrt_publish_lane_map		off
rrt_publish_tree		on
rrt_use_obstacle_avoider	on
rrt_use_pure_pursuit_tracking	off
rrt_reuse_last_path		on
rrt_obstacle_cost_distance	0.8    # distancia em metros de um obstaculo em que o custo vai a zero
rrt_obstacle_probability_threshold 0.5

###############################
# behavior_selector parameters
behavior_selector_distance_between_waypoints		14.0
behavior_selector_change_goal_distance			14.0

####
## Possible Planners:
## 0	gradient planner
## 1	a star planner
## 2	rrt planner

behavior_selector_following_lane_planner		2
behavior_selector_parking_planner			1


######################################
# rddf parameters

rddf_num_poses_ahead	100
rddf_min_distance_between_waypoints 0.5
rddf_lateral_offset_noise	0.1
rddf_lateral_offset_error	0.1
rddf_lateral_offset_particles	1000
rddf_loop			off



##################
##### Robot ######
##################


###############################
# robot parameters

robot_length               		4.437	# Parametros para o Ford Escape
robot_width                		1.6 	#2.065	# Parametros para o Ford Escape
robot_vertical_displacement_from_center	-1.375	# Parametros para o Ford Escape
robot_wheel_radius 0.28

robot_frontlaser_use            	on
robot_frontlaser_id             	1
robot_frontlaser_side_offset    	0.0
robot_frontlaser_angular_offset 	0.0	# igual a velodyne_yaw (abaixo) para rodar o laser simulado a partir do velodyne de acordo com o velodyne
robot_frontlaser_offset    		0.0

robot_rearlaser_use             	off
robot_rearlaser_id              	2
robot_rearlaser_side_offset     	0.0
robot_rearlaser_angular_offset  	3.1415923
robot_rearlaser_offset     		0.0

robot_min_approach_dist    	0.20
robot_min_side_dist        	0.20
robot_acceleration         	2.00
robot_deceleration	   	0.30
robot_reaction_time        	0.1
robot_max_t_vel            	0.4
robot_max_r_vel          	0.785398163
robot_max_v           		30.0
robot_theta_gain           	1.0
robot_theta_d_gain         	0.3
robot_displacement_gain    	0.75
robot_use_laser			on
robot_use_sonar            	off
robot_use_bumper           	off
robot_allow_rear_motion		on
robot_sensor_timeout        	3.0
robot_command_timeout		3.0
robot_rectangular		on	# right now used only by robot_gui

robot_collision_avoidance	on
robot_collision_avoidance_frequency	40.0
robot_interpolate_odometry  		off
robot_turn_before_driving_if_heading_bigger_than_deg	90.0


###############################
# robot Ackermann parameters

# 0.35 radians = 20.0535228 degrees
# 0.523598776 radians = 30 degrees

robot_max_steering_angle 							0.48	# radians #0.46
robot_max_velocity								6.94 # 11.11 # 8.33 # 6.94	# meters/second

robot_distance_between_front_and_rear_axles    		2.625 	# Ford Escape Torc = 2.6187, Mariela = 2.511  # @@@ este valor esta trocado com o abaixo em slam_mc. Tem que ver a teoria para saber como incorporar os dois ao codigo
robot_distance_between_rear_wheels             		1.52 	# Ford Escape = 1.52
robot_distance_between_rear_car_and_rear_wheels    	0.78 	# Ford Escape = 0.78
robot_distance_between_front_car_and_front_wheels   	0.91 	# Ford Escape = 0.91
robot_distance_between_rearview				2.065	# Parametros para o Ford Escape

robot_maximum_steering_command_curvature	0.20	# 1/meters #0.1887 
robot_maximum_steering_command_rate		0.235   # 0.335 # 0.235	# 1/meters/second
robot_maximum_capable_curvature			0.22	# 1/meters #0.1887
robot_understeer_coeficient			0.0015  # See Torc, "ByWire XGV User Manual", page 42
robot_maximum_speed_forward			46.0	# meters/second
robot_maximum_speed_reverse			20.0	# meters/second
robot_maximum_acceleration_forward		1.2	# meters/second^2
robot_maximum_acceleration_reverse		1.2	# meters/second^2
robot_maximum_deceleration_forward		2.7	# meters/second^2
robot_maximum_deceleration_reverse		2.7	# meters/second^2
robot_desired_steering_command_rate		0.255   # 0.175	# 0.335 # 0.235	# 1/meters/second
robot_desired_acceleration			1.2	# meters/second^2
robot_desired_decelaration_forward		2.7
robot_desired_decelaration_reverse		2.7

robot_publish_odometry				on

# Ajuste da odometria do carro
robot_v_multiplier				    1.021018 # 1.030410 # 1.030662 # 1.025076 # 1.023379  # 0.984300
robot_phi_multiplier				1.109900 # 1.098677 # 1.096974 # 1.090757 #	1.097793  # 1.101828
robot_phi_bias					    -0.003390 # -0.003188 # -0.003188 # -0.003386 # -0.003145 # -0.002788


# Bom para a volta da UFES
robot_PID_steering_kp					1250.0 # 1151.0  #1251.0  #1668.0  #1380.0 #1000.0
robot_PID_steering_ki					300.0    # 2.2667  #2.5667  #4.2782  #4.9688  #0.0 	#1000.0
robot_PID_steering_kd					0.0    # 0.05844 #0.05031 #0.0 	#0.0

# Razoavel para estacionamento
#robot_PID_steering_kp					1000.0
#robot_PID_steering_ki					2000.0
#robot_PID_steering_kd					90.0

robot_PID_minimum_delta_velocity			0.2

robot_PID_velocity_forward_accelerating_Kp		10.0
robot_PID_velocity_forward_accelerating_Ki		3.0 # 0.35    #10.0
robot_PID_velocity_forward_accelerating_Kd		0.0 # -0.025 #-0.5

robot_PID_velocity_forward_deccelerating_Kp		20.0
robot_PID_velocity_forward_deccelerating_Ki		9.0 # 0.2   #10.0
robot_PID_velocity_forward_deccelerating_Kd		0.0 #-0.025 #-1.0

robot_PID_velocity_backward_accelerating_Kp		10.0
robot_PID_velocity_backward_accelerating_Ki		3.0 # 0.35    #10.0
robot_PID_velocity_backward_accelerating_Kd		0.0 #-0.025 #-0.5

robot_PID_velocity_backward_deccelerating_Kp		20.0
robot_PID_velocity_backward_deccelerating_Ki		9.0 # 0.2   #10.0
robot_PID_velocity_backward_deccelerating_Kd		0.0 #-0.025 #-1.0

robot_PID_velocity_brake_gap				17.0


############################### 
# car parameters ??????

car_axis_distance 2.625		# TODO: ler isso do robot
car_wheel_diameter 0.56 	# @@@ Alberto: checar se nao estao usando isso como raio ao inves de diametro

# car position and orientation in relation to world
car_x			0.0
car_y			0.0
car_z			0.28	# TODO: ler isso do robot
car_roll		0.0
car_pitch		0.0
car_yaw			0.0

######################################
# visual odometry parameters
######################################

visual_odometry_is_global_pos	off

##############################
# grid mapping map parameters

grid_mapping_map_range_factor 	1.0
grid_mapping_map_grid_res 	0.2
grid_mapping_map_width 		150
grid_mapping_map_height 	150
grid_mapping_laser_sampling_step 	36
grid_mapping_laser_num_beams 	361
grid_mapping_laser_fov_range 	180.0
grid_mapping_laser_max_range 	31.0
grid_mapping_laser_lambda_short 	1.0
grid_mapping_laser_sigma_zhit 	0.1
grid_mapping_laser_zhit 		0.3
grid_mapping_laser_zmax 		0.5
grid_mapping_laser_zrand 		0.1
grid_mapping_laser_zshort 	0.1

grid_mapping_laser_locc 	5.0
grid_mapping_laser_lfree	-1.0
grid_mapping_laser_l0		0

##############################
# ultrasonic sensor parameters

grid_mapping_ultrasonic_sensor_sampling_step	0.001745
grid_mapping_ultrasonic_sensor_num_beams	36
grid_mapping_ultrasonic_sensor_fov_range	18.0
grid_mapping_ultrasonic_sensor_max_range	3.0
grid_mapping_ultrasonic_sensor_lambda_short	0.1
grid_mapping_ultrasonic_sensor_sigma_zhit	0.1
grid_mapping_ultrasonic_sensor_zhit	0.1
grid_mapping_ultrasonic_sensor_zmax	0.1
grid_mapping_ultrasonic_sensor_zrand	0.1
grid_mapping_ultrasonic_sensor_zshort	0.1

grid_mapping_map_locc 		-150.0
grid_mapping_map_lfree 		5.0
grid_mapping_map_l0 		0
grid_mapping_map_log_odds_max 	50
grid_mapping_map_log_odds_min 	-50
grid_mapping_map_log_odds_bias 	0

# front
ultrasonic_sensor_r1_x	3.455
ultrasonic_sensor_r1_y	-0.435
ultrasonic_sensor_r1_z	0.193
ultrasonic_sensor_r1_yaw	0.0
ultrasonic_sensor_r1_pitch	0.0
ultrasonic_sensor_r1_roll	0.0

# side (front)
ultrasonic_sensor_r2_x	2.145
ultrasonic_sensor_r2_y	-0.89
ultrasonic_sensor_r2_z	0.004
ultrasonic_sensor_r2_yaw	-1.57079633
ultrasonic_sensor_r2_pitch	0.0
ultrasonic_sensor_r2_roll	0.0

# side (back)
ultrasonic_sensor_l2_x	0.477
ultrasonic_sensor_l2_y	-0.89
ultrasonic_sensor_l2_z	0.004
ultrasonic_sensor_l2_yaw	-1.57079633
ultrasonic_sensor_l2_pitch	0.0
ultrasonic_sensor_l2_roll	0.0

# back
ultrasonic_sensor_l1_x	-0.92
ultrasonic_sensor_l1_y	-0.455
ultrasonic_sensor_l1_z	0.188
ultrasonic_sensor_l1_yaw	-3.14159265
ultrasonic_sensor_l1_pitch	0.0
ultrasonic_sensor_l1_roll	0.0



################################################################################################
##
##  Expert parameters
##

[expert]


####################
##### Sensors ######
####################

#GPS NMEA
gps_nmea_dev				/dev/iara_gps   #/dev/ttyUSB1
gps_nmea_baud				115200		# This speed was hand picked in order to allow proper 20Hz Venus GPS operation

# Gps antena position in relation to sensor board
gps_nmea_x	-0.572
gps_nmea_y	0.0
gps_nmea_z	-0.06
gps_nmea_yaw	0.0
gps_nmea_pitch	0.0
gps_nmea_roll	0.0

##############################
# sensor board 1 parameters
# sensor board 1 position and orientation in relation to car

sensor_board_1_x	0.81
sensor_board_1_y	0.0
sensor_board_1_z	1.37
sensor_board_1_yaw	0.0
sensor_board_1_pitch	0.0 # medido com xsens
sensor_board_1_roll	0.0


###############################
# laser parameters
laser_num_laser_devices 	1
laser_use_device_locks 		off

laser_laser1_dev           	/dev/ttyUSB2
laser_laser1_type          	LMS
laser_laser1_baud          	500000
laser_laser1_resolution    	0.5
laser_laser1_fov           	180
laser_laser1_flipped		0
laser_laser1_use_remission  	none 	# none / direct / normalized


###############################
# xsens parameters

# xsens position and orientation in relation to board 1
xsens_x		0.175
xsens_y		-0.01
xsens_z		0.25

xsens_roll	0.0
xsens_pitch	0.0
xsens_yaw	0.0 # 0.17 # de onde veio este 0.17?

# xsens gps antenna position in relation to xsens (in xsens coordinates)
xsens_gps_x	-0.81
xsens_gps_y	-0.006
xsens_gps_z	-0.27
# Magnetic declination at UFES: -23.457849 E

### XSens MTi-G
### xsens xsens_scenario
# Available scenarios:
# Scenario 1: general             
# Scenario 2: automotive          
# Scenario 10: aerospace_nobaro    
# Scenario 3: aerospace           
# Scenario 11: automotive_nobaro  

### XSens MTi
### xsens_mti_settings -> scenarios
# Available scenarios:
# Scenario 4: human               
# Scenario 5: human_large_accel   
# Scenario 6: machine             
# Scenario 7: machine_nomagfield  
# Scenario 8: marine 
xsens_scenario	6
xsens_size_x	0.06
xsens_size_y	0.04
xsens_size_z	0.02
xsens_dev	/dev/iara_xsens   # /dev/ttyUSB0

### XSens antigo
### xsens_mti_settings -> scenarios
# Available scenarios:
# Scenario 4: human               
# Scenario 5: human_large_accel   
# Scenario 6: machine             
# Scenario 7: machine_nomagfield  
# Scenario 8: marine
xsens_mti_mode	5

### xsens_mti_settings
# 1 Quaternion
# 2 Euler
# 3 Matrix
xsens_mti_settings 1
xsens_mti_dev	/dev/iara_xsens   # /dev/ttyUSB0

###############################
# xsensOdometer parameters

xsensOdometer_fake_wheel 		off
xsensOdometer_velocity_threshold 	0.0
xsensOdometer_acceleration_threshold 	0.0
xsensOdometer_constant_friction 	0.0
xsensOdometer_velocity_friction 	0.0


###############################
# velodyne parameters

velodyne_model			32E
velodyne_scan_port 		2368
velodyne_gps_enable  		off
velodyne_gps_port		8308

velodyne_vertical_resolution 32
velodyne_mapper on

velodyne_number_of_32_laser_shots_per_revolution 2250
velodyne_size_of_32_laser_shot_grouping		 1125
velodyne_time_spent_by_each_scan 0.00004608

velodyne_fov 360.0

# velodyne position and orientation in relation to sensor board 1
velodyne_x	0.0
velodyne_y	0.0
velodyne_z	0.08
velodyne_roll	0.0
velodyne_pitch	0.0
velodyne_yaw	0.0 # 0.09


###############################
# laser sick ld-mrs parameters

laser_ldmrs_address		192.168.0.1
laser_ldmrs_port 		12002


# velodyne position and orientation in relation to sensor board 1
laser_ldmrs_mount_x		0.0
laser_ldmrs_mount_y		0.0
laser_ldmrs_mount_z		0.0
laser_ldmrs_mount_roll	0.0
laser_ldmrs_mount_pitch	0.0
laser_ldmrs_mount_yaw	0.0


###############################
# joystick parameters

joystick_deadspot			on
joystick_deadspot_size			0.2


###############################
# Bumblebee parameters

#--------- Bumblebee Basic 3 ------------

bumblebee_basic3_width		1280
bumblebee_basic3_height		960
bumblebee_basic3_fx		0.764749
bumblebee_basic3_fy		1.01966
bumblebee_basic3_cu		0.505423
bumblebee_basic3_cv		0.493814
bumblebee_basic3_baseline	0.24004
bumblebee_basic3_is_legacy 	off
bumblebee_basic3_is_rectified 	on
bumblebee_basic3_model 		XB3

#--------- Bumblebee Basic 5 ------------

bumblebee_basic5_width		1280
bumblebee_basic5_height		960
bumblebee_basic5_fx		0.750653
bumblebee_basic5_fy		1.00087
bumblebee_basic5_cu		0.503023
bumblebee_basic5_cv		0.497955
bumblebee_basic5_baseline	0.239957
bumblebee_basic5_is_legacy 	off
bumblebee_basic5_is_rectified 	off
bumblebee_basic5_model 		XB3

#--------- Bumblebee Basic 6 ------------

bumblebee_basic6_width		1280
bumblebee_basic6_height		960
bumblebee_basic6_fx		0.750653
bumblebee_basic6_fy		1.00087
bumblebee_basic6_cu		0.503023
bumblebee_basic6_cv		0.497955
bumblebee_basic6_baseline	0.239957
bumblebee_basic6_is_legacy 	off
bumblebee_basic6_is_rectified 	off
bumblebee_basic6_model 		XB3

#--------- Bumblebee Basic 8 ------------

bumblebee_basic8_width		640
bumblebee_basic8_height		480
bumblebee_basic8_fx		0.753883
bumblebee_basic8_fy		1.00518 
bumblebee_basic8_cu		0.500662
bumblebee_basic8_cv		0.506046
bumblebee_basic8_baseline	0.240031
bumblebee_basic8_is_legacy 	off
bumblebee_basic8_is_rectified 	on
bumblebee_basic8_model 		XB3

#--------- Bumblebee Basic 9 ------------

bumblebee_basic9_width		640
bumblebee_basic9_height	480
bumblebee_basic9_fx		0.0
bumblebee_basic9_fy		0.0
bumblebee_basic9_cu		0.0
bumblebee_basic9_cv		0.0
bumblebee_basic9_baseline	0.0
bumblebee_basic9_is_legacy 	off
bumblebee_basic9_is_rectified 	on
bumblebee_basic9_model 		KITTI

#######################
####### Filters #######
#######################

#--------- stereo 6 ------------

stereo6_width  1280
stereo6_height   960
stereo6_disparity  128

#stereo6_algorithm VGRAM
#stereo6_algorithm CSBP
stereo6_algorithm ELAS

stereo6_gaussian_radius 10.0
stereo6_synapses 256

stereo6_wintakeiteration 1
stereo6_numdisparity 36
stereo6_numthreads 8

stereo6_scalew 1280
stereo6_scaleh 960

stereo6_vertical_ROI_ini 0
stereo6_vertical_ROI_end 960

stereo6_horizontal_ROI_ini 0
stereo6_horizontal_ROI_end 1280

#--------- stereo 8 ------------

stereo8_width  1280
stereo8_height   960
stereo8_disparity  256

#stereo8_algorithm VGRAM
#stereo8_algorithm CSBP
stereo8_algorithm ELAS

stereo8_gaussian_radius 10.0
stereo8_synapses 256

stereo8_wintakeiteration 1
stereo8_numdisparity 256
stereo8_numthreads 8

stereo8_scalew 1280
stereo8_scaleh 960

stereo8_vertical_ROI_ini 0
stereo8_vertical_ROI_end 960

stereo8_horizontal_ROI_ini 0
stereo8_horizontal_ROI_end 1280


############################
# Stereo Velodyne Parameters
############################

#--------- Stereo Velodyne 3------------

stereo_velodyne3_num_points_cloud 1
stereo_velodyne3_flipped off

stereo_velodyne3_vertical_resolution 100
stereo_velodyne3_horizontal_resolution 640
stereo_velodyne3_range_max 30.0

stereo_velodyne3_horizontal_roi_ini 0
stereo_velodyne3_horizontal_roi_end 1280
stereo_velodyne3_vertical_roi_ini 	0
stereo_velodyne3_vertical_roi_end 	960

#--------- Stereo Velodyne 8------------

stereo_velodyne8_num_points_cloud 1
stereo_velodyne8_flipped off

stereo_velodyne8_vertical_resolution 64
stereo_velodyne8_horizontal_resolution 2000
stereo_velodyne8_range_max 50.0

stereo_velodyne8_horizontal_roi_ini 0
stereo_velodyne8_horizontal_roi_end 4000
stereo_velodyne8_vertical_roi_ini 	64
stereo_velodyne8_vertical_roi_end 	960

###############################
# camera position and orientation in relation to car

#----------- Camera 8 ------------

camera8_x		0.245
camera8_y		-0.287
camera8_z		0.085
camera8_roll	0.0
camera8_pitch	0.0 #0.0263
camera8_yaw		0.0

#----------- Camera 3 ------------

camera3_x		0.325 			# 1.23
camera3_y		0.149 			# -0.28
camera3_z		0.146			# 1.13
camera3_roll	0.0				# 0.0
camera3_pitch	0.0				# 0.053
camera3_yaw		0.5585			# 0.09
#----------- Camera 5 ------------

camera5_x		0.325 			# 1.23
camera5_y		0.149 			# -0.28
camera5_z		0.146			# 1.13
camera5_roll	0.0				# 0.0
camera5_pitch	0.0				# 0.053
camera5_yaw		0.5585			# 0.09

#----------- Camera 9 ------------

camera9_x		0.0
camera9_y		0.0
camera9_z		0.0
camera9_roll	0.0
camera9_pitch	0.0
camera9_yaw	0.0

#######################
##### Interfaces ######
#######################


###############################
# navigator_gui parameter

navigator_panel_initial_map_zoom		100.0
navigator_panel_track_robot			on
navigator_panel_draw_waypoints			off
navigator_panel_show_particles			on
navigator_panel_show_gaussians			off
navigator_panel_show_true_pos			on
navigator_panel_show_tracked_objects		on
navigator_panel_show_laser			off
navigator_panel_show_simulator_objects		on
navigator_panel_show_command_path		on
navigator_panel_show_motion_path		on
navigator_panel_draw_path			on
navigator_panel_exploration_mode		off
navigator_panel_draw_robot_waypoints		on
navigator_panel_use_ackerman			on
navigator_panel_localize_std_x			0.2
navigator_panel_localize_std_y			0.2
navigator_panel_localize_std_theta		0.261799388


###############################
# robot_gui parameters

robotgui_connect_distance		40.0
robotgui_gui_control			on
robotgui_show_velocity			off
robotgui_show_vector			on


###############################
# viewer_3D parameters
viewer_3D_background_red		0.0
viewer_3D_background_green		0.0
viewer_3D_background_blue		0.0

viewer_3D_point_size			1

viewer_3D_laser_size			50
viewer_3D_velodyne_size			2
viewer_3D_odometry_size 		60000
viewer_3D_gps_size 			60000
viewer_3D_localize_ackerman_size	60000
viewer_3D_stereo_point_cloud_size	10

# car model position and orientation in relation to the car
carmodel_x		1.2	# TODO: mudar nome para viewer_3D...
carmodel_y		0.0
carmodel_z		0.28
carmodel_roll		0.0
carmodel_pitch		0.0
carmodel_yaw		0.0
carmodel_size_x		4.437
carmodel_size_y		1.806
carmodel_size_z		1.725


###############################
# camera position and orientation in relation to car

camera_x	0.245	# TODO: tem que ser lido no contexto da sensor board
camera_y	-0.287
camera_z	0.085
camera_roll	0.0
camera_pitch	0.0263
camera_yaw	0.0


###############################
# laser position and orientation in relation to car

laser_x		1.23	# TODO: tem que tratar o caso de nao ter, como nao tem... E o velodyne?
laser_y		-0.28
laser_z		1.13
laser_roll	0.0
laser_pitch	0.053 # tem que estimar
laser_yaw	0.0

# laser parameters

laser_size_x	0.25
laser_size_y	0.25
laser_size_z	0.32



##################################
##### Simulators and Logger ######
##################################


###############################
# simulator parameters

simulator_person_leg_width		1.5
simulator_person_dist_from_robot	0.4
simulator_person_speed			0.6

simulator_dt					0.025
simulator_time					0.024
simulator_sync_mode				off
simulator_laser_probability_of_random_max	.0001
simulator_laser_probability_of_random_reading	.0001
simulator_laser_sensor_variance			.001
simulator_sonar_probability_of_random_max	.01
simulator_sonar_probability_of_random_reading	.005
simulator_sonar_sensor_variance			.05
simulator_use_robot				off

simulator_send_localize_messages		on

simulator_frontlaser_maxrange        		50      # m
simulator_rearlaser_maxrange         		50      # m

simulator_ackerman_publish_laser 		on

simulator_motion_timeout			10000.0


###############################
# logger parameters

#logger_ascii		off
logger_localize		off
logger_gps		on
logger_simulator	off
logger_imu          	off
logger_xsens		on
logger_velodyne		on
logger_xsens_mtig	off
logger_odometry		on
logger_visual_odometry 	off
logger_laser		on
logger_robot_laser	off
logger_params		on
logger_motioncmds   	off  # includes base_velocity and motion commands given to robot
logger_kinect		off
logger_bumblebee	off
logger_web_cam		off
logger_sonar        	off
logger_bumblebee_frames_to_save 1 # How much frames you save (1 for all)
logger_sonar		off

######################################
# driving_playback parameters
######################################

driving_playback_distance_between_waypoints 1.0
driving_playback_num_poses_ahead 20

######################################
# polar_slam parameters
######################################

#polar_slam_odom_a1 0.00002
#polar_slam_odom_a2 0.00001
#polar_slam_odom_a3 0.00002
#polar_slam_odom_a4 0.00001

polar_slam_odom_a1 0.2
polar_slam_odom_a2 0.01
polar_slam_odom_a3 0.2
polar_slam_odom_a4 0.01

polar_slam_laser_sampling_step 		36
polar_slam_laser_num_beams 		361
polar_slam_laser_fov_range		180.0
polar_slam_laser_start_angle		-90.0
polar_slam_laser_max_range 		50.0
polar_slam_laser_lambda_short 		1.0
polar_slam_laser_sigma_zhit 		0.3
polar_slam_laser_zhit 			0.4
polar_slam_laser_zmax 			0.4
polar_slam_laser_zrand 			0.1
polar_slam_laser_zshort 		0.1

polar_slam_num_spheres			6
polar_slam_num_particles		20
polar_slam_num_points_to_store		20
polar_slam_num_angular_sections		360

######################################
# download map
download_map_from_internet	off


visual_odometry_is_global_pos off

######################################
# saliency search

saliency_search_camera 8
saliency_search_number_of_saliencies 5

#####################################
#

neural_global_localizer_camera	8
neural_global_localizer_training off
neural_global_localizer_save_train off


#####################################
# ekf odometry

ekf_odometry_camera	 		8
ekf_odometry_sensor_timeout 		10.0
ekf_odometry_frequency			5.0
ekf_odometry_odom_used  		off
ekf_odometry_vodom_used  		on
ekf_odometry_imu_used  			off
ekf_odometry_gps_used  			off
ekf_odometry_neural_globalpos_used 	on


